(()=>{var t={1556:function(t,i){"use strict";var e=this&&this.__spreadArrays||function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;var s=Array(t),n=0;for(i=0;i<e;i++)for(var o=arguments[i],r=0,a=o.length;r<a;r++,n++)s[n]=o[r];return s};Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t){void 0===t&&(t="anonymous"),this.name=t,this.l={},this.u=0}return t.prototype.destroy=function(){this.l={}},t.prototype.addEventListener=function(t,i,e){return this.l?this.p(t,i,e):""},t.prototype.addEventListeners=function(t,i,e){var s=this,n={};return this.l&&t.length?(t.forEach((function(t){var o=i.bind(e,t);n[t]=s.p(t,o,e)})),n):n},t.prototype.on=function(t,i,e){return Array.isArray(t)?this.addEventListeners(t,i,e):this.addEventListener(t,i,e)},t.prototype.removeEventListener=function(t,i){this.l&&t in this.l&&Object.prototype.hasOwnProperty.call(this.l[t],i)&&delete this.l[t][i]},t.prototype.removeEventListeners=function(t){if(this.l&&t)for(var i=0,e=Object.keys(t);i<e.length;i++){var s=e[i],n=t[s];s in this.l&&Object.prototype.hasOwnProperty.call(this.l[s],n)&&(delete this.l[s][n],delete t[s])}},t.prototype.once=function(t,i,e){var s=this,n=this.addEventListener(t,(function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];i.apply(e,Array.prototype.slice.call(o,0)),s.removeEventListener(t,n)}),this);return n},t.prototype.publish=function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(this.l){if(t in this.l){var s=this.l[t];s&&this._(s,t,!1,i)}var n=this.l["*"];n&&this._(n,t,!0,i)}},t.prototype._=function(t,i,s,n){for(var o=0,r=Object.keys(t);o<r.length;o++){var a=t[r[o]];if(a)try{var l=a.listener;l&&(s?l.apply(a.subscriber,e([i],n)):l.apply(a.subscriber,n))}catch(t){}}},t.prototype.p=function(t,i,e){this.l[t]||(this.l[t]={});var s=t+"_"+ ++this.u;return this.l[t][s]={subscriber:e,listener:i},s},t}();i.default=s},3726:(t,i,e)=>{t.exports=e(1556)},8729:(t,i,e)=>{"use strict";t.exports={userAgent:e(8314),capabilities:e(8571)}},8571:(t,i,e)=>{"use strict";var s=e(8314),n={wifi:!0,broadband:!0,dsl:!0,cable:!0};function o(){if("undefined"!=typeof navigator)return(navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)||{}).type}function r(){if(!s.mobile)return!0;var t=s.android&&s.chrome>=50,i=s.ios&&!s.iosWebView&&s.safari>=10;return t||i}t.exports={getConnectionType:o,isAutoplaySupported:r,isAutoplayAllowed:function(t){return!s.mobile||!(!(t=(o()||t||"").replace(/^cs_/i,"").toLowerCase())||!n[t])&&r()}}},8314:(t,i,e)=>{"use strict";var s="undefined"!=typeof window?window:void 0!==e.g&&e.g.window?e.g.window:{},n=s.navigator?s.navigator:"undefined"!=typeof navigator?navigator:{},o=n.userAgent?n.userAgent.toLowerCase().replace(/<[A-Za-z]+.*?(\/>|>.*?<\/[A-Za-z]+>)|javascript:/g,""):"",r=n.userAgentData,a=function(t){if(!r)return NaN;var i,e=r.brands;try{t=t.toLowerCase(),i=e.find((function(i){if(i.brand.toLowerCase().indexOf(t)>=0)return!0}))}catch(t){return NaN}return i?parseFloat(i.version):NaN},l=function(t){if(!r)return!1;var i;try{i=r.platform.toLowerCase().indexOf(t.toLowerCase())}catch(t){return!1}return i>=0},d=function(t){if(null===t)return!1;var i=t[1];return parseFloat(i.replace("_",".").split(".",2).join("."))||1},u=function(t){for(var i=(s&&s.location&&s.location.search&&s.location.search.substring(1)||"").split("&"),e=0;e<i.length;e++){var n=i[e].split("=");if(decodeURIComponent(n[0])===t)return decodeURIComponent(n[1])}return null};if(i.ua=o,i.clientHints=a,i.clientHintsPlatform=l,i.chromium=a("chromium")||d(/chromium\/([^\s]*)/.exec(o)),i.edge=a("edge")||d(/edge\/([^\s]*)/.exec(o)),i.opera=a("opera")||/opr\/|opera\//.test(o),i.chrome=a("chrome")||!i.chromium&&!i.edge&&!i.opera&&(d(/chrome\/([^\s]*)/.exec(o))||d(/crios\/([^\s]*)/.exec(o))),i.ie=d(/msie ([^;]*)/.exec(o))||d(/trident.*; rv:([0-9.]+)/.exec(o)),i.firefox=!i.ie&&d(/firefox\/([^\s]*)/.exec(o)),i.android=l("android")||/android/.test(o),i.androidTablet=i.android&&!/mobile/.test(o),i.htc_one=/htc_one/.test(o),i.vizio=/vizio/.test(o)||"vizio"===u("man"),i.tivo=/tivo/.test(o),i.presto=i.opera&&/presto/i.test(o),i.fios=/verizon.*(stb|vms|ipc)/.test(o),i.philips=/philipstv/.test(o),i.toshiba=/tsb/.test(o),i.amazon=i.android&&/amazonwebappplatform/.test(o)&&/aft/.test(o),i.lg=/web0s/.test(o),i.tizen=/tizen/.test(o),i.orsay=/smarttv/.test(o)&&!i.tizen&&!i.lg&&!i.philips,i.samsung=i.orsay||i.tizen,i.sony=/sony|bravia/.test(o),i.playstation=/(playstation)/.test(o),i.ios=/(ipad|iphone|ipod)/.test(o),i.iphone=/(iphone|ipod)/.test(o)&&!/ipad/.test(o),i.ipad=i.ios&&!i.iphone,i.androidBrowser=!i.chrome&&/android/.test(o),i.chromecast=/crkey/.test(o),i.androidVersion=d(/android\s([0-9.]*)/.exec(o)),i.safari=!i.chrome&&!i.chromium&&!i.android&&/safari\/([^\s]*)/.test(o)&&d(/version\/([^\s]*)/.exec(o)),i.iosWebView=i.ios&&!navigator.standalone&&!i.safari,i.iosVersion=i.ios&&d(/\bos ((\d+_?){2,3})\s/.exec(o)),i.mobile=r&&r.mobile||i.ios||i.android&&!i.amazon,i.safariDesktop=!i.mobile&&i.safari,i.tv=i.vizio||i.tivo||i.amazon||i.samsung||i.sony||i.playstation||i.lg||i.fios||i.philips||i.toshiba,i.desktop=!i.mobile&&!i.tv,i.phantomJS=s.window&&s.window.I,i.tv){var h=void 0!==h?h:void 0!==e.g&&e.g.tv?e.g.tv:{};if(i.class=i.ua,i.vizio)i.os="vizio",i.class=u("class")||u("soc"),h&&h.tts&&(i.class+="-tts");else if(i.tivo)i.os="tivo",/tcd849/.test(o)?i.class="TCD849":/tcd8d9/.test(o)?i.class="TCD8D9":/tcd8f9/.test(o)?i.class="TCD8F9":/tcd8/.test(o)?i.class="TCD8":/tcdd/.test(o)?i.class="TCDD":/tcd7/.test(o)?i.class="TCD7":/tcda9/.test(o)&&(i.class="TCDA9");else if(i.amazon)i.os="amazon",/aftb/.test(o)?i.class="AFTB":/afts/.test(o)?i.class="AFTS":/aftm/.test(o)?i.class="AFTM":/aftn/.test(o)?i.class="AFTN":/aftrs/.test(o)?i.class="AFTRS":/aftt/.test(o)&&(i.class="AFTT");else if(i.lg)i.os="lg",/qtwebengine/.test(o)?i.class="3":/safari\/537/.test(o)?i.class="1":/safari\/538/.test(o)&&(i.class="2");else if(i.samsung){i.os="samsung";var c="default";if(i.tizen){var v=void 0!==v?v:s.tizen;v&&v.systeminfo&&(i.version=v.systeminfo.getCapability("http://tizen.org/feature/platform.version"));var p=void 0!==p?p:s.webapis;if(p&&p.productinfo&&p.productinfo.getRealModel)try{var f=p.productinfo.getRealModel(),m=f.substr(4,isNaN(Number(f[5]))?2:1);c=m+f.substr(1===m.length?5:6,1)}catch(t){c="default"}}else c="orsay";i.class=c}else i.roku||i.chromecast||i.toshiba||i.philips||i.appletv||i.xbox||(i.sony?(i.os="sony",/bdp/.test(o)?i.class="BDP":/bravia|sony-kj/.test(o)?i.class="BRAVIA":i.class="default"):i.playstation?(i.os="playstation",/4pro/.test(o)?i.class="4PRO":/playstation 4/.test(o)?i.class="4":/vita/i.test(o)&&(i.class="VITA")):i.fios?(i.os="fios",/stb/.test(o)?i.class="STB":/vms/.test(o)?i.class="VMS":/ipc/.test(o)&&(i.class="IPC")):i.os=null)}else i.ios?i.os="ios":i.android?i.os="android":/windows|win32/.test(o)?(i.os="windows",i.winXP=/(windows nt 5\.[1-3])/.test(o),i.class=i.winXP?"XP":i.class,i.winVista=/(windows nt 6\.0)/.test(o),i.class=i.winVista?"VISTA":i.class,i.win7=/(windows nt 6\.1)/.test(o),i.class=i.win7?"7":i.class,i.win8=/(windows nt 6\.2)/.test(o),i.class=i.win8?"8":i.class,i.win8_1=/(windows nt 6\.3)/.test(o),i.class=-1*i.win?"8_1":i.class,i.win10=/(windows nt 10\.0)/.test(o),i.class=i.win10?"10":i.class,i.win64=/(wow64|win64)/.test(o),i.architecture=i.win64?"64":"32"):/macintosh|mac_powerpc/.test(o)?i.os="macintosh":/symbos/.test(o)?i.os="symbos":/linux/.test(o)?i.os="linux":i.os=null},356:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NCP_JARVIS_CODES=i.BRIGHTCOVE_CODES=i.SAPI_CODES=i.PLAYER_DRM_CODES=i.PLAYER_CODES=i.WARNING_CODES=i.INFO_CODES=i.E_BRIGHTCOVE=i.E_SAPI_NCP_JARVIS=i.E_SAPI_STREAM=i.E_SAPI_ABSTRACT=i.E_PLAYER_DRM=i.E_PLAYER=i.E_YVAP=i.E_WARNING=i.E_INFO=void 0,i.E_INFO="100",i.E_WARNING="200",i.E_YVAP="300",i.E_PLAYER="400",i.E_PLAYER_DRM="410",i.E_SAPI_ABSTRACT="500",i.E_SAPI_STREAM="501",i.E_SAPI_NCP_JARVIS="506",i.E_BRIGHTCOVE="700",i.INFO_CODES={E_SAPI_LICENSE_ERROR:"200",E_SAPI_UNAVAILABLE_TEMP:"201",E_SAPI_GEO:"202",E_SAPI_DEVICE:"203",E_SAPI_EMBED:"204",E_SAPI_BLACKOUT:"208",E_SAPI_AUTH_FAILED:"210",E_SAPI_INVALID_AUTH_KEY_VERSION:"211",E_SAPI_GEO_POSITION_REQUIRED:"212",E_SAPI_RESTRICTED_NETWORK_TYPE:"214",E_SAPI_UNSUPPORTED_LIVE_ON_HTML:"305",E_DRM_UNSUPPORTED_OS:"401",E_DRM_UNSUPPORTED_BROWSER:"402",E_DRM_FORBIDDEN_LICENSE:"403",E_PLAYER_ANDROID_CHROME_REQUIRED:"500"},i.WARNING_CODES={E_PLAYBACK_TIMEOUT:"1",E_RECOVER_LONG_PAUSE:"50",E_LIVE_PLAYBACK_COMPLETE:"800",E_SSL_MISMATCH:"803",E_CSS_DOWNLOAD_FAILED:"804",E_PLAYBACK_FROZEN_DETECTED:"900",E_ER_TRY:"901",E_RECOVERY_STATUS:"902",E_BUFFER_GAP:"903"},i.PLAYER_CODES={E_CMS_XHR_REQ_CONNECTION_FAILED:"700",E_CMS_XHR_REQ_CONNECTION_FAILED_TIMEOUT:"701",E_CMS_XHR_RESPONSE_ABSENT:"710",E_CMS_XHR_RESPONSE_ABSENT_TIMEOUT:"711",E_CMS_XHR_REQ_LOAD_FAILED:"720",E_CMS_XHR_REQ_LOAD_TIMEOUT:"721",E_CMS_XHR_REQ_LOAD_408:"722",E_CMS_XHR_REQ_INCOMPLETE:"730",E_CMS_XHR_REQ_INCOMPLETE_TIMEOUT:"731",E_CMS_XHR_REQ_408:"732",E_CMS_XHR_REQ_ERROR:"740",E_CMS_XHR_REQ_TIMEOUT:"750",E_CMS_XHR_REQ_CORS_ERROR:"760",E_INTERNAL_VIOLATION:"600",E_SETUP_ERROR:"404",E_INVALID_CONFIG:"601",E_RECOVERY_FAILURE:"602",E_NO_RENDERER_FOUND:"604"},i.PLAYER_DRM_CODES={E_UNSUPPORTED_OS:"1",E_UNSUPPORTED_BROWSER:"2",E_EME_MISSING:"3",E_INIT:"4",E_CONFIG:"5",E_CERTPATH_MISSING:"6",E_CERT_LOAD_FAILED:"7",E_CERT_NO_DATA:"8",E_NO_KEY_SYSTEM:"9",E_KEY_CREATION_FAILED:"10",E_KEY_SESSION_FAILED:"11",E_KEY_ERROR:"12",E_LICENSE_REQUEST:"13",E_FORBIDDEN_LICENSE:"14"},i.SAPI_CODES={E_INCOMPATIBLE_FORMAT:"100",E_NO_STREAMS:"103",E_UNAUTHORIZED_USER:"205",E_RESTRICTED_TO_INTERNAL:"206",E_DRM_RESTRICTED:"207",E_UNSUPPORTED_FORMAT:"300",E_EXTERNAL_NO_STREAMS:"301",E_NO_PLAYABLE_STREAMS:"302",E_UNSUPPORTED_LIVE_FORMAT:"305",E_NOT_FOUND:"400",E_EMPTY_LIST:"403",E_DOWNSTREAM_ISSUE:"555"},i.BRIGHTCOVE_CODES={E_NO_STREAMS:"103",E_CATALOG_API_ERROR:"500"},i.NCP_JARVIS_CODES={E_EMPTY_LIST:"101",E_API_ERROR:"102"}},5437:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.TypeChecker=i.Privacy=i.LocalStorage=i.LoaderConstants=i.Loader=i.errorCodes=void 0;var s=e(356);i.errorCodes=s;var n=e(2858),o=n;i.Loader=n.default,i.LoaderConstants=o;var r=e(1106);i.LocalStorage=r.default;var a=e(7305);i.Privacy=a.default;var l=e(1543);i.TypeChecker=l;var d=e(6120);i.Utils=d.default},2858:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.XHR_TIMEOUT=i.XHR_CORS=i.XHR_ERROR=void 0;var s=e(8729),n=e(9005),o=e(1543),r=e(6120);i.XHR_ERROR="XHR error",i.XHR_CORS="XHR CORS",i.XHR_TIMEOUT="XHR request timed out";var a=function(){function t(){}return t.ajax=function(t,e){t=r.default.fixProtocol(t);var a=r.default.getWindow(),l=e.context,d=e.responseTypeJson,u=e.withCookie,h=e.timeout||3e3,c=r.default.once(e.successHandler),v=r.default.once(e.failureHandler),p=!1,f=null,m={url:t,cors:s.userAgent.ie&&s.userAgent.ie<10||u,withCredentials:u,timeout:h,responseType:e.responseType,headers:e.headers,method:e.method,body:e.body,beforeSend:e.beforeSend};if(l&&c&&v){var y=(new Date).getTime(),g=(0,n.default)(m,(function(s,n,r){var u,m;if(!p){if(e.collectPerfData){if(f={},o.isFunction(g.getResponseHeader)&&(f.resp_len=g.getResponseHeader("Content-Length")||"na"),a.performance&&a.performance.getEntriesByName){var _=0===t.indexOf("http")?t:location.protocol+t;f.resourceTiming=a.performance.getEntriesByName(_).pop(),f.resourceTimingEntries=a.performance.getEntries()}f.http_code=n.statusCode}if(n.timeDiff=(new Date).getTime()-y,s){var b=null;o.isFunction(g.getResponseHeader)&&(b=g.getResponseHeader("Access-Control-Allow-Origin"));var w=a.location.protocol+"//"+a.location.host;if(b&&b!==w){var E=i.XHR_CORS+": originHeader ="+(b||"")+": myOrigin ="+w;v.call(l,new Error(E),"default","cors")}else{var I=n.timeDiff>=h?i.XHR_TIMEOUT:i.XHR_ERROR;v.call(l,new Error(I+": timeDiff ="+n.timeDiff),(null==n?void 0:n.previousState)||(null===(u=null==n?void 0:n.rawRequest)||void 0===u?void 0:u.previousState),n.statusCode,n.timeDiff,f,g)}}else n.statusCode<200||n.statusCode>=300?v.call(l,new Error(i.XHR_ERROR+": statusCode = "+n.statusCode),(null==n?void 0:n.previousState)||(null===(m=null==n?void 0:n.rawRequest)||void 0===m?void 0:m.previousState),n.statusCode,n.timeDiff,f,g):c.call(l,d?JSON.parse(r):r,!1,f,g)}}));g.previousState=g.readyState;var _=g.onreadystatechange;g.onreadystatechange=function(){4===g.readyState?_.call(g):g.previousState=g.readyState}}return function(){p=!0}},t.preconnect=function(t,i){if(document&&!document.head.querySelector("#"+t)){var e=document.createElement("link");e.setAttribute("rel","preconnect"),e.setAttribute("id",t),e.setAttribute("href",i);var s=document.getElementsByTagName("head")[0];s&&s.appendChild(e)}},t}();i.default=a},1106:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(){}return t.get=function(t){var i;try{i=(i=window.localStorage.getItem(t))&&JSON.parse(i)||null}catch(t){i=null}return i},t.put=function(t,i){if(!t||!i)return!1;try{return i=JSON.stringify(i),localStorage.setItem(t,i),!0}catch(t){return!1}},t.remove=function(t){try{localStorage.removeItem(t)}catch(t){return}},t.getAllKeys=function(){var t=[];try{for(var i=0,e=localStorage.length;i<e;++i){var s=localStorage.key(i);s&&t.push(s)}return t}catch(i){return t}},t}();i.default=e},7305:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(){}return t.getAllPrivacySignals=function(t){void 0!==window.__gpp?window.__gpp("getAllPrivacyData",(function(i,e){var s,n,o,r,a,l,d;if(i&&e){var u=null===(s=i.tcf)||void 0===s?void 0:s.raw,h=null===(n=i.tcf)||void 0===n?void 0:n.expanded,c=null===(o=i.gpp)||void 0===o?void 0:o.raw,v=null===(r=i.usp)||void 0===r?void 0:r.raw,p=null===(a=i.usp)||void 0===a?void 0:a.expanded,f={gdprApplies:null==u?void 0:u.gdprApplies,gdprConsentData:null==u?void 0:u.tcString,purposeConsents:(null===(l=null==h?void 0:h.purpose)||void 0===l?void 0:l.consents)||null,uspString:null==v?void 0:v.uspString,gpp:null==c?void 0:c.gppString,gppSid:(null==p?void 0:p.gppSid)||"-1",doNotSell:"Y"===((null===(d=null==v?void 0:v.uspString)||void 0===d?void 0:d[2])||"")};t(f,e)}else t(void 0,!1)})):t(void 0,!1)},t}();i.default=e},1543:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isNonEmptyString=i.isFunction=i.isObject=i.isString=i.isNumber=i.isNullOrUndefined=i.isBoolean=i.isArray=void 0,i.isArray=function(t){return Array.isArray(t)},i.isBoolean=function(t){return"boolean"==typeof t},i.isNullOrUndefined=function(t){return null==t},i.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},i.isString=function(t){return"string"==typeof t},i.isObject=function(t){return"[object Object]"===(i=t,Object.prototype.toString.call(i));var i},i.isFunction=function(t){return"function"==typeof t},i.isNonEmptyString=function(t){return"string"==typeof t&&""!==t}},6120:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(8729),n=e(1543),o=function(){function t(){}return t.getWindow=function(){return window},t.fixProtocol=function(t){return s.userAgent.samsung&&0===t.indexOf("//")?"https:"+t:t},t.once=function(t){var i=this,e=function(){var s=Array.prototype.slice.call(arguments);return e.called||(e.called=!0,e.value=t.apply(i,s)),e.value};return e.called=!1,e},t.stringifyPrimitive=function(t){return(0,n.isString)(t)?t:(0,n.isBoolean)(t)||(0,n.isNumber)(t)&&isFinite(t)?t.toString():""},t.generateGuid=function(i){return i?(0|16*Math.random()).toString(16):"10000000-1000-4000-8000-100000000000".replace(/1|0/g,t.generateGuid)},t.sanitizeAndUnescape=function(t,i){if(void 0===i&&(i=!0),(0,n.isNullOrUndefined)(t)&&i)return"";if((0,n.isNullOrUndefined)(t))return t;var e=t.toString().replace(/<\/?[^>]+>/g,""),s=document.createElement("div");return s.innerHTML=e,s.textContent},t}();i.default=o},9840:(t,i,e)=>{var s;s="undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{},t.exports=s},9110:(t,i)=>{!function(t){var i=/\S/,e=/\"/g,s=/\n/g,n=/\r/g,o=/\\/g,r=/\u2028/,a=/\u2029/;function l(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function d(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function u(t,i,e){if(i.charAt(e)!=t.charAt(0))return!1;for(var s=1,n=t.length;s<n;s++)if(i.charAt(e+s)!=t.charAt(s))return!1;return!0}t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,R:9,"{":10,"&":11,S:12},t.scan=function(e,s){var n=e.length,o=0,r=null,a=null,h="",c=[],v=!1,p=0,f=0,m="{{",y="}}";function g(){h.length>0&&(c.push({tag:"_t",text:new String(h)}),h="")}function _(e,s){if(g(),e&&function(){for(var e=!0,s=f;s<c.length;s++)if(!(e=t.tags[c[s].tag]<t.tags.R||"_t"==c[s].tag&&null===c[s].text.match(i)))return!1;return e}())for(var n,o=f;o<c.length;o++)c[o].text&&((n=c[o+1])&&">"==n.tag&&(n.indent=c[o].text.toString()),c.splice(o,1));else s||c.push({tag:"\n"});v=!1,f=c.length}function b(t,i){var e="="+y,s=t.indexOf(e,i),n=d(t.substring(t.indexOf("=",i)+1,s)).split(" ");return m=n[0],y=n[n.length-1],s+e.length-1}for(s&&(s=s.split(" "),m=s[0],y=s[1]),p=0;p<n;p++)0==o?u(m,e,p)?(--p,g(),o=1):"\n"==e.charAt(p)?_(v):h+=e.charAt(p):1==o?(p+=m.length-1,"="==(r=(a=t.tags[e.charAt(p+1)])?e.charAt(p+1):"_v")?(p=b(e,p),o=0):(a&&p++,o=2),v=p):u(y,e,p)?(c.push({tag:r,n:d(h),otag:m,ctag:y,i:"/"==r?v-m.length:p+y.length}),h="",p+=y.length-1,o=0,"{"==r&&("}}"==y?p++:l(c[c.length-1]))):h+=e.charAt(p);return _(v,!0),c};var h={S:!0,"\n":!0,$:!0,"/":!0};function c(i,e,s,n){var o,r=[],a=null,l=null;for(o=s[s.length-1];i.length>0;){if(l=i.shift(),o&&"<"==o.tag&&!(l.tag in h))throw new Error("Illegal content in < super tag.");if(t.tags[l.tag]<=t.tags.$||v(l,n))s.push(l),l.nodes=c(i,l.tag,s,n);else{if("/"==l.tag){if(0===s.length)throw new Error("Closing tag without opener: /"+l.n);if(a=s.pop(),l.n!=a.n&&!p(l.n,a.n,n))throw new Error("Nesting error: "+a.n+" vs. "+l.n);return a.end=l.i,r}"\n"==l.tag&&(l.last=0==i.length||"\n"==i[0].tag)}r.push(l)}if(s.length>0)throw new Error("missing closing tag: "+s.pop().n);return r}function v(t,i){for(var e=0,s=i.length;e<s;e++)if(i[e].o==t.n)return t.tag="#",!0}function p(t,i,e){for(var s=0,n=e.length;s<n;s++)if(e[s].c==t&&e[s].o==i)return!0}function f(t){var i=[];for(var e in t.partials)i.push('"'+y(e)+'":{name:"'+y(t.partials[e].name)+'", '+f(t.partials[e])+"}");return"partials: {"+i.join(",")+"}, subs: "+function(t){var i=[];for(var e in t)i.push('"'+y(e)+'": function(c,p,t,i) {'+t[e]+"}");return"{ "+i.join(",")+" }"}(t.subs)}t.stringify=function(i,e,s){return"{code: function (c,p,i) { "+t.wrapMain(i.code)+" },"+f(i)+"}"};var m=0;function y(t){return t.replace(o,"\\\\").replace(e,'\\"').replace(s,"\\n").replace(n,"\\r").replace(r,"\\u2028").replace(a,"\\u2029")}function g(t){return~t.indexOf(".")?"d":"f"}function _(t,i){var e="<"+(i.prefix||"")+t.n+m++;return i.partials[e]={name:t.n,partials:{}},i.code+='t.b(t.rp("'+y(e)+'",c,p,"'+(t.indent||"")+'"));',e}function b(t,i){i.code+="t.b(t.t(t."+g(t.n)+'("'+y(t.n)+'",c,p,0)));'}function w(t){return"t.b("+t+");"}t.generate=function(i,e,s){m=0;var n={code:"",subs:{},partials:{}};return t.walk(i,n),s.asString?this.stringify(n,e,s):this.makeTemplate(n,e,s)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,i,e){var s=this.makePartials(t);return s.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(s,i,this,e)},t.makePartials=function(t){var i,e={subs:{},partials:t.partials,name:t.name};for(i in e.partials)e.partials[i]=this.makePartials(e.partials[i]);for(i in t.subs)e.subs[i]=new Function("c","p","t","i",t.subs[i]);return e},t.codegen={"#":function(i,e){e.code+="if(t.s(t."+g(i.n)+'("'+y(i.n)+'",c,p,1),c,p,0,'+i.i+","+i.end+',"'+i.otag+" "+i.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(i.nodes,e),e.code+="});c.pop();}"},"^":function(i,e){e.code+="if(!t.s(t."+g(i.n)+'("'+y(i.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(i.nodes,e),e.code+="};"},">":_,"<":function(i,e){var s={partials:{},code:"",subs:{},inPartial:!0};t.walk(i.nodes,s);var n=e.partials[_(i,e)];n.subs=s.subs,n.partials=s.partials},$:function(i,e){var s={subs:{},code:"",partials:e.partials,prefix:i.n};t.walk(i.nodes,s),e.subs[i.n]=s.code,e.inPartial||(e.code+='t.sub("'+y(i.n)+'",c,p,i);')},"\n":function(t,i){i.code+=w('"\\n"'+(t.last?"":" + i"))},R:function(t,i){i.code+="t.b(t.v(t."+g(t.n)+'("'+y(t.n)+'",c,p,0)));'},S:function(t,i){i.code+=w('"'+y(t.text)+'"')},"{":b,"&":b},t.walk=function(i,e){for(var s,n=0,o=i.length;n<o;n++)(s=t.codegen[i[n].tag])&&s(i[n],e);return e},t.parse=function(t,i,e){return c(t,0,[],(e=e||{}).sectionTags||[])},t.cache={},t.cacheKey=function(t,i){return[t,!!i.asString,!!i.disableLambda,i.delimiters,!!i.modelGet].join("||")},t.compile=function(i,e){e=e||{};var s=t.cacheKey(i,e),n=this.cache[s];if(n){var o=n.partials;for(var r in o)delete o[r].instance;return n}return n=this.generate(this.parse(this.scan(i,e.delimiters),i,e),i,e),this.cache[s]=n}}(i)},4714:(t,i,e)=>{var s=e(9110);s.Template=e(9549).Template,s.template=s.Template,t.exports=s},9549:(t,i)=>{!function(t){function i(t,i,e){var s;return i&&"object"==typeof i&&(void 0!==i[t]?s=i[t]:e&&i.get&&"function"==typeof i.get&&(s=i.get(t))),s}t.Template=function(t,i,e,s){t=t||{},this.r=t.code||this.r,this.c=e,this.options=s||{},this.text=i||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,i,e){return""},v:function(t){return t=l(t),a.test(t)?t.replace(e,"&amp;").replace(s,"&lt;").replace(n,"&gt;").replace(o,"&#39;").replace(r,"&quot;"):t},t:l,render:function(t,i,e){return this.ri([t],i||{},e)},ri:function(t,i,e){return this.r(t,i,e)},ep:function(t,i){var e=this.partials[t],s=i[e.name];if(e.instance&&e.base==s)return e.instance;if("string"==typeof s){if(!this.c)throw new Error("No compiler available.");s=this.c.compile(s,this.options)}if(!s)return null;if(this.partials[t].base=s,e.subs){for(key in i.stackText||(i.stackText={}),e.subs)i.stackText[key]||(i.stackText[key]=void 0!==this.activeSub&&i.stackText[this.activeSub]?i.stackText[this.activeSub]:this.text);s=function(t,i,e,s,n,o){function r(){}function a(){}var l;r.prototype=t,a.prototype=t.subs;var d=new r;for(l in d.subs=new a,d.subsText={},d.buf="",s=s||{},d.stackSubs=s,d.subsText=o,i)s[l]||(s[l]=i[l]);for(l in s)d.subs[l]=s[l];for(l in n=n||{},d.stackPartials=n,e)n[l]||(n[l]=e[l]);for(l in n)d.partials[l]=n[l];return d}(s,e.subs,e.partials,this.stackSubs,this.stackPartials,i.stackText)}return this.partials[t].instance=s,s},rp:function(t,i,e,s){var n=this.ep(t,e);return n?n.ri(i,e,s):""},rs:function(t,i,e){var s=t[t.length-1];if(d(s))for(var n=0;n<s.length;n++)t.push(s[n]),e(t,i,this),t.pop();else e(t,i,this)},s:function(t,i,e,s,n,o,r){var a;return(!d(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,i,e,s,n,o,r)),a=!!t,!s&&a&&i&&i.push("object"==typeof t?t:i[i.length-1]),a)},d:function(t,e,s,n){var o,r=t.split("."),a=this.f(r[0],e,s,n),l=this.options.modelGet,u=null;if("."===t&&d(e[e.length-2]))a=e[e.length-1];else for(var h=1;h<r.length;h++)void 0!==(o=i(r[h],a,l))?(u=a,a=o):a="";return!(n&&!a)&&(n||"function"!=typeof a||(e.push(u),a=this.mv(a,e,s),e.pop()),a)},f:function(t,e,s,n){for(var o=!1,r=!1,a=this.options.modelGet,l=e.length-1;l>=0;l--)if(void 0!==(o=i(t,e[l],a))){r=!0;break}return r?(n||"function"!=typeof o||(o=this.mv(o,e,s)),o):!n&&""},ls:function(t,i,e,s,n){var o=this.options.delimiters;return this.options.delimiters=n,this.b(this.ct(l(t.call(i,s)),i,e)),this.options.delimiters=o,!1},ct:function(t,i,e){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(i,e)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,i,e,s,n,o,r){var a,l=i[i.length-1],d=t.call(l);return"function"==typeof d?!!s||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(d,l,e,a.substring(n,o),r)):d},mv:function(t,i,e){var s=i[i.length-1],n=t.call(s);return"function"==typeof n?this.ct(l(n.call(s)),s,e):n},sub:function(t,i,e,s){var n=this.subs[t];n&&(this.activeSub=t,n(i,e,this,s),this.activeSub=!1)}};var e=/&/g,s=/</g,n=/>/g,o=/\'/g,r=/\"/g,a=/[&<>\"\']/;function l(t){return String(null==t?"":t)}var d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(i)},7056:t=>{t.exports=function(t){if(!t)return!1;var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var i=Object.prototype.toString},4645:(t,i,e)=>{var s=e(4714);t.exports=new s.Template({code:function(t,i,e){var s=this;return s.b(e=e||""),s.b('<p class="evp-ad-timer-container">'),s.b(s.v(s.d("strings.AD",t,i,0))),s.b(': <span class="timer-target"></span></p>'),s.b("\n"),s.fl()},partials:{},subs:{}},'<p class="evp-ad-timer-container">{{strings.AD}}: <span class="timer-target"></span></p>\n',s)},8733:(t,i,e)=>{var s=e(4714);t.exports=new s.Template({code:function(t,i,e){var s=this;return s.b(e=e||""),s.b('<p class="evp-live-label-container evp-user-active"><span class="evp-live-label">'),s.b(s.v(s.d("strings.LIVE",t,i,0))),s.b("</span></p>"),s.fl()},partials:{},subs:{}},'<p class="evp-live-label-container evp-user-active"><span class="evp-live-label">{{strings.LIVE}}</span></p>',s)},5241:(t,i,e)=>{var s=e(4714);t.exports=new s.Template({code:function(t,i,e){var s=this;return s.b(e=e||""),s.b("<div class='evp-opss'"),s.b("\n"+e),s.b("     style='"),s.b("\n"+e),s.b("        overflow-x: scroll;"),s.b("\n"+e),s.b("        font-size: 11px;"),s.b("\n"+e),s.b("        z-index: 100;"),s.b("\n"+e),s.b("        width: 100%;"),s.b("\n"+e),s.b("        height: 100%;"),s.b("\n"+e),s.b("        background-color: rgba(0,0,0,0.8);"),s.b("\n"+e),s.b("        color: rgba(255, 255, 255, 0.8);"),s.b("\n"+e),s.b("        font-family: monospace;"),s.b("\n"+e),s.b("        '>"),s.b("\n"+e),s.b("    <button class='evp-opss-close-btn'"),s.b("\n"+e),s.b('        style="'),s.b("\n"+e),s.b("            display: block;"),s.b("\n"+e),s.b("            position: absolute;"),s.b("\n"+e),s.b("            top: 10px;"),s.b("\n"+e),s.b("            right: 10px;"),s.b("\n"+e),s.b("            width: 27px;"),s.b("\n"+e),s.b("            height: 27px;"),s.b("\n"+e),s.b("            cursor: pointer;"),s.b("\n"+e),s.b("            z-index: 10;"),s.b("\n"+e),s.b("            opacity: .8;"),s.b("\n"+e),s.b('            "'),s.b("\n"+e),s.b("    >x</button>"),s.b("\n"+e),s.b('    <div id="player-info">'),s.b("\n"+e),s.b("        <div>EV Player Version: "),s.b(s.v(s.f("evpVersion",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("        <div>Brightcove Player Version: "),s.b(s.v(s.f("bcpVersion",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("        <div>Player ID: "),s.b(s.v(s.f("playerId",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("        <div>Brightcove Player ID: "),s.b(s.v(s.f("brightcovePlayerId",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("        <div>Ad Plugin Version: "),s.b(s.v(s.f("adPluginVersion",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("        <div>Playlist UI Plugin Version: "),s.b(s.v(s.f("playlistUIPluginVersion",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("        <div>Overlay Plugin Version: "),s.b(s.v(s.f("overlayPluginVersion",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("    </div>"),s.b("\n"+e),s.b('    <div id="media-item-info">'),s.b("\n"+e),s.b("        <div>Current MediaItem Id: "),s.b(s.v(s.d("mediaItem.id",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("    </div>"),s.b("\n"+e),s.b("    <div class='evp-opss-graphs' "),s.b("\n"+e),s.b('        style="'),s.b("\n"+e),s.b("            width: 100%;"),s.b("\n"+e),s.b("            height: 80px;"),s.b("\n"+e),s.b("            display: none;"),s.b("\n"+e),s.b("            margin-bottom: 25px;"),s.b("\n"+e),s.b('        "'),s.b("\n"+e),s.b("    ></div>"),s.b("\n"+e),s.b('    <div id="player-config">'),s.b("\n"+e),s.b("        <div>Player Config</div>"),s.b("\n"+e),s.b('        <div style="white-space: pre">'),s.b(s.v(s.f("config",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("    </div>"),s.b("\n"+e),s.b('    <div id="bcp-config">'),s.b("\n"+e),s.b("        <div>Vendor Player Config</div>"),s.b("\n"+e),s.b('        <div style="white-space: pre">'),s.b(s.v(s.f("vendorConfig",t,i,0))),s.b("</div>"),s.b("\n"+e),s.b("    </div>"),s.b("\n"+e),s.b("</div>"),s.fl()},partials:{},subs:{}},'<div class=\'evp-opss\'\n     style=\'\n        overflow-x: scroll;\n        font-size: 11px;\n        z-index: 100;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0,0,0,0.8);\n        color: rgba(255, 255, 255, 0.8);\n        font-family: monospace;\n        \'>\n    <button class=\'evp-opss-close-btn\'\n        style="\n            display: block;\n            position: absolute;\n            top: 10px;\n            right: 10px;\n            width: 27px;\n            height: 27px;\n            cursor: pointer;\n            z-index: 10;\n            opacity: .8;\n            "\n    >x</button>\n    <div id="player-info">\n        <div>EV Player Version: {{evpVersion}}</div>\n        <div>Brightcove Player Version: {{bcpVersion}}</div>\n        <div>Player ID: {{playerId}}</div>\n        <div>Brightcove Player ID: {{brightcovePlayerId}}</div>\n        <div>Ad Plugin Version: {{adPluginVersion}}</div>\n        <div>Playlist UI Plugin Version: {{playlistUIPluginVersion}}</div>\n        <div>Overlay Plugin Version: {{overlayPluginVersion}}</div>\n    </div>\n    <div id="media-item-info">\n        <div>Current MediaItem Id: {{mediaItem.id}}</div>\n    </div>\n    <div class=\'evp-opss-graphs\' \n        style="\n            width: 100%;\n            height: 80px;\n            display: none;\n            margin-bottom: 25px;\n        "\n    ></div>\n    <div id="player-config">\n        <div>Player Config</div>\n        <div style="white-space: pre">{{config}}</div>\n    </div>\n    <div id="bcp-config">\n        <div>Vendor Player Config</div>\n        <div style="white-space: pre">{{vendorConfig}}</div>\n    </div>\n</div>',s)},1307:(t,i,e)=>{var s=e(4714);t.exports=new s.Template({code:function(t,i,e){var s=this;return s.b(e=e||""),s.b('<p class="evp-view-count-container"><span class="view-count">'),s.b(s.v(s.f("count",t,i,0))),s.b("</span></p>"),s.fl()},partials:{},subs:{}},'<p class="evp-view-count-container"><span class="view-count">{{count}}</span></p>',s)},7110:(t,i,e)=>{var s=e(4714);t.exports=new s.Template({code:function(t,i,e){var s=this;return s.b(e=e||""),s.b('<div class="evp-nfl-branding-container" style="">'),s.b("\n"+e),s.b('    <div class="evp-nfl-branding">'),s.b("\n"+e),s.b('        <a href="http://www.nfl.com/" target="nfl_site">'),s.b("\n"+e),s.b('            <span class="evp-nfl-brand evp-nfl-brand-span"></span>'),s.b("\n"+e),s.b('            <span class="evp-nfl-brand evp-nfl-brand-logo"></span>'),s.b("\n"+e),s.b("        </a>"),s.b("\n"+e),s.b("    </div>"),s.b("\n"+e),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},'<div class="evp-nfl-branding-container" style="">\n    <div class="evp-nfl-branding">\n        <a href="http://www.nfl.com/" target="nfl_site">\n            <span class="evp-nfl-brand evp-nfl-brand-span"></span>\n            <span class="evp-nfl-brand evp-nfl-brand-logo"></span>\n        </a>\n    </div>\n</div>\n',s)},8023:t=>{var i=function(t){return t.replace(/^\s+|\s+$/g,"")};t.exports=function(t){if(!t)return{};for(var e,s={},n=i(t).split("\n"),o=0;o<n.length;o++){var r=n[o],a=r.indexOf(":"),l=i(r.slice(0,a)).toLowerCase(),d=i(r.slice(a+1));void 0===s[l]?s[l]=d:(e=s[l],"[object Array]"===Object.prototype.toString.call(e)?s[l].push(d):s[l]=[s[l],d])}return s}},5953:(t,i)=>{"use strict";var e,s,n;Object.defineProperty(i,"__esModule",{value:!0}),i.LANG_SUBTAG_MAP=i.LOCALE_MAP_FOR_BCPLAYER=i.GEMINI_STUB_VIDEO_ID=i.LANGUAGE_MAP=i.LocalStorageKey=i.PLAYBACK_REMOVE_REASON=i.MoreItemsReason=i.PLAYLIST_TOTAL_COUNT=i.PLAYLIST_COUNT_PER_PAGE=i.PLAYLIST_LABEL_ICON_DIMENSION=i.PLAYLIST_SECTION_ICON_DIMENSION=i.PLAYLIST_THUMB_DIMENSION=void 0,i.PLAYLIST_THUMB_DIMENSION="260x144",i.PLAYLIST_SECTION_ICON_DIMENSION="14x14",i.PLAYLIST_LABEL_ICON_DIMENSION="70x70",i.PLAYLIST_COUNT_PER_PAGE=12,i.PLAYLIST_TOTAL_COUNT=120,function(t){t.PLAYBACK_STARTED="playbackStarted",t.PLAYLIST_COMPLETE="playlistComplete",t.PLAYLIST_COMPLETE_ON_ERROR="playlistCompleteOnError",t.SCROLLED_TO_END="scrolledToEnd",t.PLAYLIST_ID_ALIAS_NEED_RESOLVE="playlistNeedResolve",t.SOURCE_LOAD_COMPLETE="sourceLoadComplete",t.CONTENT_LOAD_FINISHED="ContentLoadFinished"}(e||(i.MoreItemsReason=e={})),function(t){t.DESTROY="destroy",t.ERROR="error",t.UNLOAD="unload"}(s||(i.PLAYBACK_REMOVE_REASON=s={})),function(t){t.VOLUME="yvpVolume"}(n||(i.LocalStorageKey=n={})),i.LANGUAGE_MAP={id:"Bahasa Indonesia",ms:"Bahasa Melayu",cs:"čeština",da:"dansk",de:"Deutsch",et:"eesti",en:"English",es:"español",fil:"Filipino",fr:"français",hr:"hrvatski",it:"italiano",lv:"latviešu",lt:"lietuvių",hu:"magyar",nl:"Nederlands",nb:"norsk bokmål",pl:"polski",pt:"português",ro:"română",sk:"slovenčina",sl:"slovenščina",fi:"suomi",sv:"svenska",vi:"Tiếng Việt",tr:"Türkçe",el:"Ελληνικά",bg:"български",ru:"русский","sr-cyrl":"Српски",uk:"українська",he:"‎עברית‏‎",ar:"‎العربية‏‎",mr:"मराठी",hi:"हिन्दी",bn:"বাংলা",gu:"ગુજરાતી",ta:"தமிழ்",te:"తెలుగు",kn:"ಕನ್ನಡ",ml:"മലയാളം",th:"ไทย",ur:"اردو زبان",ko:"한국어","zh-hans":"简体中文","zh-hant":"繁體中文",ja:"日本人"},i.GEMINI_STUB_VIDEO_ID="6bf451fd-11f9-37f9-a54c-d73d795839f6",i.LOCALE_MAP_FOR_BCPLAYER={"ar-JO":"ar","de-DE":"de","el-GR":"el","en-AE":"en","en-AU":"en","en-CA":"en","en-GB":"en","en-IE":"en","en-IN":"en","en-MY":"en","en-NZ":"en","en-PH":"en","en-SG":"en","en-US":"en","en-ZA":"en","es-ES":"es","es-US":"es","fr-BE":"fr","fr-CA":"fr","fr-FR":"fr","id-ID":"en","it-IT":"it","nl-BE":"nl","pt-BR":"pt-BR","ro-RO":"en","sv-SE":"sv","vi-VN":"vi","zh-Hant-HK":"zh-Hant","zh-Hant-TW":"zh-Hant"},i.LANG_SUBTAG_MAP={ar:"ar-JO",de:"de-DE",el:"el-GR",en:"en-US",es:"es-ES",fr:"fr-FR",it:"it-IT",nl:"nl-BE",pt:"pt-BR",sv:"sv-SE",vi:"vi-VN","zh-Hant":"zh-Hant-TW"}},4757:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PlayerController=i.PlayPauseReason=i.UiInteractElement=i.AudioMode=i.PlayerEvent=void 0;const s=e(3726),n=e(32),o=e(7023),r=e(7049),a=e(5413),l=e(4080),d=e(8638),u=l.Log.getLogging("PlayerController");var h,c,v;!function(t){t.TIME="time",t.READY="ready",t.REQUEST="request",t.SETUP_ERROR="setupError",t.ERROR="error",t.WARNING="warning",t.PLAY_ATTEMPT_FAILED="playAttemptFailed",t.BEFORE_PLAY="beforePlay",t.PLAY="play",t.PLAYING="playing",t.PAUSE="pause",t.BUFFER="buffer",t.START="start",t.COMPLETE="complete",t.REMOVE="remove",t.SEEK="seek",t.MUTE="mute",t.AD_MANAGER="adManager",t.AD_DELIVERED="adDelivered",t.AD_REQUEST="adRequest",t.AD_STARTED="adStarted",t.AD_VIEWABLE_IMP="adViewableImpression",t.AD_TIME="adTime",t.AD_TAG_PASSED="adTagPassed",t.AD_COMPLETE="adComplete",t.AD_ERROR="adError",t.AD_BREAK_STARTED="adBreakStarted",t.AD_BREAK_ENDED="adBreakEnded",t.AD_PAUSE="adPause",t.AD_RESUME="adResume",t.AD_SKIPPED="adSkipped",t.AD_EVENT="adEvent",t.AD_TB_RESP="adThunderballResponse",t.PLAYLIST_POSITION_CHANGED="playlistPositionChanged",t.PLAYLIST_COMPLETE="playlistComplete",t.CONTENT_LOAD_FINISHED="contentLoadFinished",t.SOURCE_LOAD_COMPLETE="sourceLoadComplete",t.FULLSCREEN="fullscreen",t.VOLUME="volume",t.DATERANGE_STARTED="daterangeStarted",t.DATERANGE_ENDED="daterangeEnded",t.BITRATE_CHANGE="bitrateChange",t.UI_INTERACTION="uiInteraction",t.OPSS_REQUEST="opssRequest",t.TIMED_METADATA_RECEIVED="timedMetadataReceived",t.BRIGHTCOVE_FETCH_ERROR="brightcoveFetchError",t.IMA3_LOADED="ima3Loaded",t.AD_ERROR_EVENT="adsErrorEvent",t.BRIGHTCOVE_FETCH_COMPLETE="brightcoveFetchComplete",t.LOADED_METADATA="loadedMetadata",t.PLAYBACK_INFO="playbackInfo"}(h||(i.PlayerEvent=h={})),function(t){t.AUDIO_ONLY="audioOnly",t.AUDIO_POSTER="audioPoster"}(c||(i.AudioMode=c={})),function(t){t.VIDEO="video-click",t.START_SCREEN="startScreen",t.PLAY_BTN="ctrl-play-btn",t.PAUSE_BTN="ctrl-pause-btn",t.NEXT_VID="next-vid-",t.SKIP_NEXT="ctrl-next-click"}(v||(i.UiInteractElement=v={}));const p=Object.values(h);var f;!function(t){t.CTRL="ctrl",t.API="api",t.PLAYER="player"}(f||(i.PlayPauseReason=f={}));class m extends s.default{constructor(t){super("PlayerController"),this.P=null,this.C=!1,this.T=!1,this.O=t}setIframeBridge(t){var i;this.P=t,null===(i=this.P)||void 0===i||i.on(n.BridgeEvent.MESSAGE,this.k,this)}async render(){if(this.O.customCss.length>0)try{await this.A(this.O.customCss)}catch(t){}this.M()}play(t,i){var e;const s=!this.O.isPlayerInForeground;this.O.playerState.playbackState!==a.PlaybackState.VIDEO&&s?this.T=!0:null===(e=this.P)||void 0===e||e.post({type:n.BridgeMessageType.PLAY,payload:{position:t,config:i}})}pause(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.PAUSE,payload:{config:t}})}stop(){var t;null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.STOP,payload:{}})}playAtIndex(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.PLAY_AT_INDEX,payload:{index:t}})}seek(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SEEK,payload:{secs:t}})}disableControls(){var t;null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.TOGGLE_CONTROLS,payload:{enable:!1}})}disableCC(){var t;null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.TOGGLE_CC,payload:{enable:!1}})}enableCC(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.TOGGLE_CC,payload:{enable:!0,language:o.Utils.getLanguageForCode(t)}})}enableControls(){var t;null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.TOGGLE_CONTROLS,payload:{enable:!0}})}setVolume(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_VOLUME,payload:{vol:t}})}async getVolume(){var t;return await(null===(t=this.P)||void 0===t?void 0:t.postAndWaitResponse({type:n.BridgeMessageType.GET_VOLUME,payload:{}}))}setMute(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_MUTE,payload:{enable:t}})}async getMute(){var t;return await(null===(t=this.P)||void 0===t?void 0:t.postAndWaitResponse({type:n.BridgeMessageType.GET_MUTE,payload:{}}))}setPlaybackRate(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_PLAYBACK_RATE,payload:{playbackRate:t}})}async getPlaybackRate(){var t;return await(null===(t=this.P)||void 0===t?void 0:t.postAndWaitResponse({type:n.BridgeMessageType.GET_PLAYBACK_RATE,payload:{}}))}preload(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.PRELOAD,payload:{enable:t}})}renderOpss(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.RENDER_OPSS,payload:{info:t}})}async addMediaItem(t,i,e){var s;await(null===(s=this.P)||void 0===s?void 0:s.postAndWaitResponse({type:n.BridgeMessageType.ADD_ITEM,payload:{mediaItemConfig:r.PlayerUtil.getItemConfig(t,this.O),position:i,playOnEnd:e||!1}}))}async addMediaItems(t,i){var e;const s=t.map((t=>r.PlayerUtil.getItemConfig(t,this.O)));await(null===(e=this.P)||void 0===e?void 0:e.postAndWaitResponse({type:n.BridgeMessageType.ADD_ITEMS,payload:{mediaItemConfigs:s,positions:i}}))}async removeMediaItem(t,i){var e;return await(null===(e=this.P)||void 0===e?void 0:e.postAndWaitResponse({type:n.BridgeMessageType.REMOVE_ITEM,payload:{mediaItemConfig:r.PlayerUtil.getItemConfig(t,this.O),position:i}})),t.toItemInfo()}async setPlaylistPosition(t,i){var e;return await(null===(e=this.P)||void 0===e?void 0:e.postAndWaitResponse({type:n.BridgeMessageType.SET_PLAYLIST_POS,payload:{mediaItemConfig:r.PlayerUtil.getItemConfig(t,this.O),position:i}}))}async refreshMediaItems(t,i){var e;if(!t||!t.length)return;const s=t.map((t=>r.PlayerUtil.getItemConfig(t,this.O)));await(null===(e=this.P)||void 0===e?void 0:e.postAndWaitResponse({type:n.BridgeMessageType.REFRESH_ITEMS,payload:{mediaItemConfigs:s,positions:i}}))}setChromeless(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_CHROMELESS,payload:{enable:t}})}setContinuousPlay(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_CONTINUOUSPLAY,payload:{enable:t}})}setLoop(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_LOOP,payload:{enable:t}})}async getCurrentTime(){var t;return await(null===(t=this.P)||void 0===t?void 0:t.postAndWaitResponse({type:n.BridgeMessageType.GET_CURRENT_TIME,payload:{}}))}setFullscreen(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_FULLSCREEN,payload:{enable:t}})}async getFullscreen(){var t;return await(null===(t=this.P)||void 0===t?void 0:t.postAndWaitResponse({type:n.BridgeMessageType.GET_FULLSCREEN,payload:{}}))}setError(t){var i;null===(i=this.P)||void 0===i||i.post({type:n.BridgeMessageType.SET_ERROR,payload:{error:t}})}showPlayerInfo(){var t;null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.SHOW_PLAYER_INFO,payload:{}})}onVisibilityChanged(t){if(!this.P)return;const i=this.O,e=i.playerState.playbackState,s={reason:f.PLAYER};t?e===a.PlaybackState.VIDEO&&i.paused&&this.C?(this.play(void 0,s),this.C=!1):this.T&&(this.play(void 0,s),this.T=!1):e===a.PlaybackState.VIDEO&&!i.paused&&i.mute&&(this.pause(s),this.C=!0)}onDimensionsChange(t){this.N()}async k(t,i){switch(t.type){case n.BridgeMessageType.PLAYER_EVENT:this.D(t);break;case n.BridgeMessageType.LOAD_VAST_XML:{const e=await this.j(t);null==i||i(e);break}}}async j(t){const i=t.payload;try{const t=Date.now(),{vastXml:e,status:s}=await o.Utils.loadVast(i.url),n=Date.now()-t;return u.debug(`VAST XML loaded in ${n}ms from ${i.url}`),this.publish(h.AD_TB_RESP,{latency:n,status:s,adTag:i.url}),e}catch(t){return i.url}}D(t){const i=t.payload;-1!==p.indexOf(i.event)&&this.publish(i.event,i.data)}M(){var t;const i=this.O.playlist.currentMediaItem,e=r.PlayerUtil.getConfig(i,this.O);null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.RENDER_PLAYER,payload:{config:e}})}async A(t){var i;await(null===(i=this.P)||void 0===i?void 0:i.postAndWaitResponse({type:n.BridgeMessageType.LOAD_CUSTOM_CSS,payload:{customCss:t}}))}N(){var t;if("object"==typeof this.O.limitRenditionByPlayerDimensions&&this.O.limitRenditionByPlayerDimensions.limitBelow){const i=d.BCPlayerUtil.getLimitRenditionByPlayerDimensions(this.O);null===(t=this.P)||void 0===t||t.post({type:n.BridgeMessageType.SET_LIMIT_RENDITION_BY_PLAYER_DIMENSIONS,payload:{limitRenditionByPlayerDimensions:i}})}}}i.PlayerController=m},6071:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TimedMetadataController=void 0;const s=e(3726),n=e(4757),o=e(8729),r=e(5437);class a extends s.default{constructor(){super(...arguments),this.L={},this.V=new Set,this.F=this.U.bind(this)}onLoadedMetadata(t,i){this.B(t),this.H(i)}onTextTrackChange(t){this.X(t)}onPlaying(t){this.B(t)}onTimeupdate(t){if(!t||!o.userAgent.safari)return;const i=[];Object.values(this.L).forEach((e=>{const s=e.cues;for(let e=0;e<s.length;e++){const n=s[e],o=n.value;let r={};if("X-DATA"===(null==o?void 0:o.key)){try{const t=atob(null==o?void 0:o.data);r=JSON.parse(t)}catch(t){continue}const e=new Date(r.startDate);if("Invalid Date"===e.toString()||!this.K||!r.id)continue;const s=Math.floor((e.getTime()-this.K.getTime())/1e3);t>=s&&i.push({value:o,id:r.id,startTime:n.startTime,endTime:n.endTime})}}}));this.Y(i).forEach((t=>{this.q(t)}))}onPlaylistPositionChange(){var t;null===(t=this.G)||void 0===t||t.removeEventListener("cuechange",this.F),this.G=null,this.L={},this.V.clear()}B(t){t instanceof Date&&"Invalid Date"!==t.toString()&&(this.K=t)}H(t){this.G=t,this.G.addEventListener("cuechange",this.F)}X(t){if(o.userAgent.safari)for(let i=0;i<t.length;i++){const e=t[i];"metadata"!==e.kind||"com.apple.streaming"!==e.inBandMetadataTrackDispatchType||e.guid in this.L||(e.guid=r.Utils.generateGuid(),this.L[e.guid]=e)}}q(t){const i=t.id;i?this.V.has(i)||(this.V.add(i),this.publish(n.PlayerEvent.TIMED_METADATA_RECEIVED,t)):this.publish(n.PlayerEvent.TIMED_METADATA_RECEIVED,t)}U(){const t=this.G.activeCues;this.Y(t).forEach((t=>{o.userAgent.safari&&"X-DATA"===t.key||this.q(t)}))}Y(t){const i=[];for(let e=0;e<t.length;e++){const s=t[e],n=(null==s?void 0:s.value)||{};let o=null==n?void 0:n.data;const r={info:(null==n?void 0:n.info)||(null==n?void 0:n.description)||"",key:(null==n?void 0:n.key)||(null==n?void 0:n.id)||"",data:"",startTime:s.startTime,endTime:s.endTime,id:s.id||""};if("string"==typeof o)try{o=JSON.parse(o)}catch(t){}o&&(o&&(null==o?void 0:o.buffer)instanceof ArrayBuffer&&!(null==r?void 0:r.info)&&(r.info=String.fromCharCode.apply(null,new Uint8Array(o.buffer))),r.data=o,i.push(r))}return i}}i.TimedMetadataController=a},4686:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NCP_JARVIS_CODES=i.BRIGHTCOVE_CODES=i.SAPI_CODES=i.PLAYER_CODES=i.WARNING_CODES=i.INFO_CODES=i.E_SAPI_NCP_JARVIS=i.E_BRIGHTCOVE=i.E_SAPI_STREAM=i.E_SAPI_ABSTRACT=i.E_PLAYER=i.E_WARNING=i.E_INFO=void 0;const s=e(5437).errorCodes;i.E_INFO=s.E_INFO,i.E_WARNING=s.E_WARNING,i.E_PLAYER=s.E_PLAYER,i.E_SAPI_ABSTRACT=s.E_SAPI_ABSTRACT,i.E_SAPI_STREAM=s.E_SAPI_STREAM,i.E_BRIGHTCOVE=s.E_BRIGHTCOVE,i.E_SAPI_NCP_JARVIS=s.E_SAPI_NCP_JARVIS,i.INFO_CODES=s.INFO_CODES,i.WARNING_CODES=s.WARNING_CODES,i.PLAYER_CODES=s.PLAYER_CODES,i.SAPI_CODES=s.SAPI_CODES,i.BRIGHTCOVE_CODES=s.BRIGHTCOVE_CODES,i.NCP_JARVIS_CODES=s.NCP_JARVIS_CODES;const n={0:{timeout:i.PLAYER_CODES.E_CMS_XHR_REQ_CONNECTION_FAILED_TIMEOUT,default:i.PLAYER_CODES.E_CMS_XHR_REQ_CONNECTION_FAILED},1:{timeout:i.PLAYER_CODES.E_CMS_XHR_RESPONSE_ABSENT_TIMEOUT,default:i.PLAYER_CODES.E_CMS_XHR_RESPONSE_ABSENT},2:{408:i.PLAYER_CODES.E_CMS_XHR_REQ_LOAD_408,timeout:i.PLAYER_CODES.E_CMS_XHR_REQ_LOAD_TIMEOUT,default:i.PLAYER_CODES.E_CMS_XHR_REQ_LOAD_FAILED},3:{408:i.PLAYER_CODES.E_CMS_XHR_REQ_408,timeout:i.PLAYER_CODES.E_CMS_XHR_REQ_INCOMPLETE_TIMEOUT,default:i.PLAYER_CODES.E_CMS_XHR_REQ_INCOMPLETE},100:{timeout:i.PLAYER_CODES.E_CMS_XHR_REQ_TIMEOUT,cors:i.PLAYER_CODES.E_CMS_XHR_REQ_CORS_ERROR,default:i.PLAYER_CODES.E_CMS_XHR_REQ_ERROR}};class o{constructor(t,i,e){if(this.vendorErrorCode=NaN,this.message="",this.playReason="",!t||!i)throw new Error("Error must be created with a type and code");this.type=t,this.code=i,this.vendorErrorCode=e.code,this.vendorSourceError=e.sourceError,this.message=e.message||"",this.playReason=e.playReason||""}static create(t){let e=i.E_PLAYER;o.J(t.type)&&(e=t.type);let s="100";return o.W(e,t.code)&&(s=t.code.toString()),new o(e,s,t)}static createWarning(t){let e="0";return o.containsCode(i.WARNING_CODES,t.code)&&(e=t.code.toString()),new o(i.E_WARNING,e,t)}static getXHRErrorCode(t,i,e){var s;const o=null!==(s=i&&n[i])&&void 0!==s?s:100;let r=t;return(null==e?void 0:e.includes("timeout"))?r="timeout":t&&n[o][t]||(r="default"),n[o][r]}static containsCode(t,i){var e;"number"==typeof i&&(i=i.toString());for(const s in t)if((null===(e=t[s])||void 0===e?void 0:e.indexOf(i))>=0)return!0;return!1}static J(t){return[i.E_INFO,i.E_WARNING,i.E_PLAYER,i.E_SAPI_ABSTRACT,i.E_SAPI_STREAM,i.E_BRIGHTCOVE,i.E_SAPI_NCP_JARVIS].includes(t)}static W(t,e){let s={};switch(t){case i.E_INFO:s=i.INFO_CODES;break;case i.E_WARNING:s=i.WARNING_CODES;break;case i.E_SAPI_ABSTRACT:case i.E_SAPI_STREAM:s=i.SAPI_CODES;break;case i.E_BRIGHTCOVE:s=i.BRIGHTCOVE_CODES;break;case i.E_SAPI_NCP_JARVIS:s=i.NCP_JARVIS_CODES;break;case i.E_PLAYER:default:s=i.PLAYER_CODES}return o.containsCode(s,e)}}i.default=o},76:(t,i)=>{"use strict";var e;Object.defineProperty(i,"__esModule",{value:!0}),i.BCSourceMimetype=void 0,function(t){t.m3u8="application/x-mpegURL",t.mp4="video/mp4",t.mpd="application/dash+xml",t.webm="video/webm"}(e||(i.BCSourceMimetype=e={}))},2031:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(4364);i.default=class{constructor(t){this.Z=s.SourceState.NO_DATA,this.bcpvid=t}set state(t){var i;switch(this.Z=t,t){case s.SourceState.FETCHING:this.tt=new Promise((t=>{this.st=t}));break;case s.SourceState.ERROR:case s.SourceState.HAS_DATA:null===(i=this.st)||void 0===i||i.call(this)}}get state(){return this.Z}async waitForFetching(){this.tt&&await this.tt}}},7625:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalSettings=void 0;class e{static set(t){e.settings={...e.settings,...t}}static get debug(){return e.settings.debug||!1}}i.GlobalSettings=e,e.settings={}},4364:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MediaItem=i.REFRESH_INTERVAL=i.MediaItemType=i.SourceState=void 0;const s=e(7023),n=e(3680);var o,r;!function(t){t[t.NO_DATA=0]="NO_DATA",t[t.FETCHING=1]="FETCHING",t[t.HAS_DATA=2]="HAS_DATA",t[t.ERROR=3]="ERROR"}(o||(i.SourceState=o={})),function(t){t.VOD="vod",t.LIVE_EVENT="live",t.STREAM_URL="streamUrl"}(r||(i.MediaItemType=r={})),i.REFRESH_INTERVAL=3e5;i.MediaItem=class{constructor(t){var i,e;this.nt="",this.ot="",this.rt=0,this.dt="",this.ut=[],this.ht=o.NO_DATA,this.vt="",this.ft=0,this.yt=[],this.gt=!1,this._t=null,this.bt="",this.wt=!1,this.Et="",this.It=null,this.Rt=null,this.St=!1,this.Pt=null,this.Ct=!1,this.Tt="",this.Ot=0,this.kt="",this.At="",this.Mt=0,this.Nt=0,this.Dt=!1,this.jt=Date.now(),this.Lt=!1,this.Vt=[],this.xt="",this.Ft=s.Utils.deepCopy(t),this.Ut=this.Ft.id||s.Utils.generateGuid(),this.update(this.Ft),this.St=((null===(e=null===(i=this.Ft)||void 0===i?void 0:i.streams)||void 0===e?void 0:e.length)||0)>0,this.updateVideoSession()}update(t){var i,e,s,r,a,l,d,u,h,c,v,p,f,m,y,g,_,b,w,E,I,R,S,P,C,T,O;this.nt=(null!==(i=this.Ft.title)&&void 0!==i?i:t.title)||this.nt,this.ot=(null!==(e=this.Ft.description)&&void 0!==e?e:t.description)||this.ot,this.dt=(null!==(s=this.Ft.poster)&&void 0!==s?s:t.poster)||this.dt,this.rt=(null==t?void 0:t.duration)||this.rt,this.Bt=null!==(r=this.Ft.adUrl)&&void 0!==r?r:t.adUrl,this.Ht=null!==(a=this.Ft.overlays)&&void 0!==a?a:t.overlays,this.Pt=null!==(d=null!==(l=t.error)&&void 0!==l?l:this.Pt)&&void 0!==d?d:null,this.Ct=null!==(h=null!==(u=t.liveWithAds)&&void 0!==u?u:this.Ft.liveWithAds)&&void 0!==h&&h,this.Et=null!==(v=null!==(c=t.liveState)&&void 0!==c?c:this.Et)&&void 0!==v?v:"",this.$t=null!==(f=null!==(p=t.license)&&void 0!==p?p:this.$t)&&void 0!==f?f:void 0,this.Xt=null!==(y=null!==(m=t.metrics)&&void 0!==m?m:this.Xt)&&void 0!==y?y:void 0,this.kt=null!==(_=null!==(g=t.genre)&&void 0!==g?g:this.kt)&&void 0!==_?_:"",this.At=null!==(w=null!==(b=t.showName)&&void 0!==b?b:this.At)&&void 0!==w?w:"",this.Mt=null!==(I=null!==(E=t.eventStart)&&void 0!==E?E:this.Mt)&&void 0!==I?I:0,this.Nt=null!==(S=null!==(R=t.eventStop)&&void 0!==R?R:this.Nt)&&void 0!==S?S:0,this.Dt=null!==(C=null!==(P=t.uplynkLive)&&void 0!==P?P:this.Dt)&&void 0!==C&&C,t.viewCount&&(this.zt=t.viewCount),t.bcp&&(this._t=t.bcp,(null===(T=this._t)||void 0===T?void 0:T.v_id)&&(null===(O=this._t)||void 0===O?void 0:O.cdn)&&(this.bt=this._t.cdn)),t.streams&&(this.ut=[],t.streams.forEach((t=>{const i=new n.Stream(t);i.isValid()&&this.ut.push(i)})),this.ut.length>0?(this.bt=this.ut[0].cdn,this.wt=this.ut[0].live,this.sourceState=o.HAS_DATA):(this.bt=this.bt||"",this.wt=!1,this.sourceState=o.NO_DATA)),t.providerId&&(this.Kt=t.providerId)}get providerId(){return this.Kt}get breaks(){return this.yt}async waitForFetching(){this.It&&await this.It}set sourceState(t){var i;switch(this.ht=t,t){case o.FETCHING:this.It=new Promise((t=>{this.Rt=t}));break;case o.HAS_DATA:null===(i=this.Rt)||void 0===i||i.call(this)}}get sourceState(){return this.ht}get error(){return this.Pt}set error(t){this.Pt=t}get id(){return this.Ut}get title(){return this.nt}get description(){return this.ot}get duration(){return this.rt}get thumbnail(){return this.dt}get streamList(){return this.ut}get videoSession(){return this.vt}get adUrl(){return this.Bt}get live(){return this.wt}get liveState(){return this.Et}addReplay(){this.ft++}get replay(){return this.ft}set hasPlayed(t){this.gt=t}get hasPlayed(){return this.gt}updateVideoSession(){this.vt=this.Yt()}hasSource(){return this.sourceState===o.HAS_DATA}hasSourceExpired(){return!this.live&&36e5-(Date.now()-this.jt+1e3*this.duration+i.REFRESH_INTERVAL+12e4)<0}get bcp(){return this._t}get cdn(){return this.bt}set lastSourceFetchTime(t){this.jt=t}get lastSourceFetchTime(){return this.jt}set isRefreshing(t){this.Lt=t}get isRefreshing(){return this.Lt}get type(){return this.streamList.some((t=>t.live))?r.LIVE_EVENT:this.St?r.STREAM_URL:r.VOD}toItemInfo(){var t;const i=[];this.streamList.forEach((t=>{i.push({url:t.url,mimetype:t.mimetype,bitrate:t.bitrate})}));return{id:this.id,title:this.title,description:this.description,streams:i,duration:this.duration,poster:this.thumbnail,adUrl:this.adUrl||"",bcVideoId:(null===(t=this.bcp)||void 0===t?void 0:t.v_id)||"",currentTime:this.Ot}}get viewCount(){return this.zt}get overlays(){return this.Ht}get liveWithAds(){return this.Ct}set palNonce(t){this.Tt=t}get palNonce(){return this.Tt}get license(){return this.$t}get metrics(){return this.Xt}get genre(){return this.kt}get showName(){return this.At}get eventStart(){return this.Mt}get eventStop(){return this.Nt}set currentTime(t){this.Ot=t}get baseConfig(){return this.Ft}get uplynkLive(){return this.Dt}get aspectRatio(){if(this.xt)return this.xt;const t=this.streamList;return t.length>0?t[0].aspectRatio:""}set bcpSources(t){this.Vt=t,this.xt="";for(let i=0;i<t.length;i++){const e=t[i];if((null==e?void 0:e.width)&&(null==e?void 0:e.height)&&!this.xt){const t=e.width/e.height;this.xt=isNaN(t)?"":t.toFixed(2)}}}get bcpSources(){return this.Vt}Yt(){const t=[],i="abcdefghijklmnopqrstuvwxyz123456789";for(let e=0;e<8;e++)t.push(i.charAt(Math.floor(35*Math.random())));return t.join("")}}},1700:(t,i)=>{"use strict";var e;Object.defineProperty(i,"__esModule",{value:!0}),i.IBCOverlayAlignment=void 0,function(t){t.TOP_LEFT="top-left",t.TOP="top",t.TOP_RIGHT="top-right",t.RIGHT="right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.LEFT="left"}(e||(i.IBCOverlayAlignment=e={}))},5413:(t,i)=>{"use strict";var e,s;Object.defineProperty(i,"__esModule",{value:!0}),i.PlayerState=i.DeviceOrientation=i.PlaybackState=void 0,function(t){t.INIT="init",t.WAITING="waiting",t.VIDEO="video",t.END="end"}(e||(i.PlaybackState=e={})),function(t){t.PORTRAIT="portrait",t.LANDSCAPE="landscape"}(s||(i.DeviceOrientation=s={}));i.PlayerState=class{constructor(){this.qt=.5,this.Gt=!1,this.Jt=!0,this.Qt=!1,this.Wt=e.INIT,this.Zt=!1,this.ti=!1,this.ii={width:0,height:0,isDocked:!1,deviceOrientation:null,isFullscreen:!1}}get playbackState(){return this.Wt}set playbackState(t){this.Wt=t}get mute(){return this.Zt}set mute(t){this.Zt=t}get volume(){return this.qt}set volume(t){this.qt=t}get seeking(){return this.ti}set seeking(t){this.ti=t}get uiState(){return this.ii}get loading(){return this.Jt}set loading(t){this.Jt=t}get paused(){return this.Gt}set paused(t){this.Gt=t}get rebuffering(){return this.Qt}set rebuffering(t){this.Qt=t}}},3680:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Stream=void 0;const s=e(5437),n=e(7023);i.Stream=class{constructor(t){this.ei=t.url||"",this.si=t.host||"",this.ni=t.path||"",this.oi=t.mimetype||"",this.wt=t.live||!1,this.bt=t.cdn||"",this.ai=t.rcMode||"",this.li=t.fairplayCertificatePath||"",this.di=t.aspect_ratio||"",this.ui=t.format||"",this.ci=n.Utils.deepCopy(t.videoMetadata),this.pi=n.Utils.deepCopy(t.audioMetadata),s.TypeChecker.isString(this.ei)&&0!==this.ei.length||this.si&&this.ni&&(this.ei=this.si+this.ni)}get url(){return this.ei}get mimetype(){return this.oi}get bitrate(){var t;return(null===(t=this.ci)||void 0===t?void 0:t.bitrate)||0}get format(){return this.ui}get cdn(){return this.bt}get live(){return this.wt}get aspectRatio(){return this.di}isValid(){return""!==this.ei}}},2469:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PFrameBCPlayer=i.CAPTIONS_CSS_CLASS_NAMES=i.AD_URL_UNDEFINED_FALLBACK_XML=void 0;const s=e(3726),n=e(8729),o=e(4757),r=e(8638),a=e(7023),l=e(4686),d=e(3856),u=e(5014),h=e(4713),c=e(4364),v=e(2031),p=e(7625),f=e(32),m=e(4080),y=e(6071),g=e(5286),_=m.Log.getLogging("pframebcplayer"),b=u.playerData,w={IMA:{css:`https://players.brightcove.net/videojs-ima3/${u.adPluginVersion}/videojs-ima3.css`,js:`https://players.brightcove.net/videojs-ima3/${u.adPluginVersion}/videojs-ima3.min.js`},PLAYLIST_UI:{css:`https://players.brightcove.net/videojs-bc-playlist-ui/${u.playlistUIPluginVersion}/videojs-bc-playlist-ui.css`,js:`https://players.brightcove.net/videojs-bc-playlist-ui/${u.playlistUIPluginVersion}/videojs-bc-playlist-ui.min.js`,lang:`https://players.brightcove.net/videojs-bc-playlist-ui/${u.playlistUIPluginVersion}/lang/`},OVERLAY:{css:`https://players.brightcove.net/videojs-overlay/${u.overlayPluginVersion}/videojs-overlay.css`,js:`https://players.brightcove.net/videojs-overlay/${u.overlayPluginVersion}/videojs-overlay.min.js`}},E=[.25,.5,.75,1,1.25,1.5,1.75,2],I={src:"https://s.yimg.com/cv/apiv2/default/error.m3u8",type:"video/mp4"};i.AD_URL_UNDEFINED_FALLBACK_XML="data:text/xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8"?><VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0"/>');const R=["ima3-click","ima3-video-clicked","ima3-video-icon-clicked","ima3-ad-buffering","ima3-viewable-impression","ima3-paused","ima3-resumed","ima3-all-ads-completed","ima3-ad-error","ima3-skipped","ima3-linear-changed","ima3-skippable-state-changed","ima3-ad-break-ready","ima3-volume-changed","ima3-volume-muted","ima3-interaction","ima3-ready","ima3-hardtimeout","ads-ad-skipped","adtimeout","adserror"];var S;!function(t){t.CC_SUBTITLES="vjs-subtitles-menu-item",t.CC_CAPTIONS="vjs-captions-menu-item",t.CC_SELECTED="vjs-selected",t.CC_ON_STYLE="ev-ccbtn-on",t.CC_SETTINGS="vjs-texttrack-settings"}(S||(i.CAPTIONS_CSS_CLASS_NAMES=S={}));class P extends s.default{constructor(t){super("PFrameBCPlayer"),this.mi=null,this.yi=b.PROD.playerId,this.gi=b.PROD.accountId,this._i=!1,this.qt=.5,this.bi=!1,this.wi=!0,this.Ei=!1,this.Ii=0,this.Ri=NaN,this.Si=o.PlayPauseReason.CTRL,this.Pi=!1,this.Ci=!1,this.Ti=!1,this.Oi="",this.ki=!1,this.Ai=!1,this.Mi={},this.P=null,this.Ni=new y.TimedMetadataController,this.Di={},this.ji=null,this.Li=document.querySelector("#pframe-player-container"),t&&(this.P=t)}async render(t){var i,e;this.Vi=t,_.debug("render","config=",this.Vi),this.Vi.bcpDevAccount&&(this.gi=b.DEV.accountId,this.yi=b.DEV.playerId);const s=`https://players.brightcove.net/${this.gi}/${this.yi}_default/index.min.js`;this.Ai=t.continuousPlay,this.Li=this.Li,null===(i=this.Li)||void 0===i||i.appendChild(this.xi(this.Vi)),this.Fi(this.Vi.locale),this.Ui(this.Vi);const n=a.Utils.getAssetUrl("bcplayer.css");try{if(await Promise.all([a.Utils.loadScript(s),a.Utils.loadCSS(n),a.Utils.loadCSS(w.PLAYLIST_UI.css),a.Utils.loadScript(w.PLAYLIST_UI.js),a.Utils.loadCSS(w.OVERLAY.css),a.Utils.loadScript(w.OVERLAY.js)].concat(this.Vi.ads?[a.Utils.loadCSS(w.IMA.css),a.Utils.loadScript(w.IMA.js)]:[])),"en"!==this.Vi.locale)try{await a.Utils.loadScript(`${w.PLAYLIST_UI.lang}${this.Vi.locale}.js`)}catch(t){}this.mi=a.Utils.getWindow().bc("bc-player"),this.Bi(this.mi),this.Hi(),this.Vi.autoplay&&this.mi.autoplay("any"),this.mi.bcPlaylistUi(this.Vi.playlistOptions),this.$i(this.mi),this.Vi.ads&&this.mi.ima3({serverUrl:async t=>{var i,e;const s=a.Utils.resolveMacros(null===(e=null===(i=this.mi)||void 0===i?void 0:i.mediainfo)||void 0===e?void 0:e.adTagUrl,this.Di);try{t(await this.Xi(s))}catch(i){t(s)}this.publish(o.PlayerEvent.AD_TAG_PASSED,{adTag:s})},showVpaidControls:!0,timeout:1e3*this.Vi.adLoadTimeout,vpaidMode:"INSECURE",ima3SdkSettings:{numRedirects:this.Vi.adWrapperLimit}}),this._i=this.mi.muted(),this.qt=this.mi.volume();try{this.Ti=await this.mi.usingAdBlocker()}catch(t){throw new Error("Error checking for ad blocker")}this.zi(this.mi)}catch(t){const i=null!==(e=null==t?void 0:t.message)&&void 0!==e?e:"Error loading resources for BC player";this.publish(o.PlayerEvent.SETUP_ERROR,{type:400,code:404,message:i,sourceError:t})}}async addMediaItem(t,i,e){var s,n,o,r;const a=null===(s=this.mi)||void 0===s?void 0:s.playlist;if(a&&t){if(!this.Ki(t.mediaid,i)){const e=await this.Yi(t),s=new Promise((t=>{this.mi.one("playlistadd",(()=>{t()}))}));await Promise.allSettled([s,new Promise((t=>{a.add(e,i),t()}))])}e&&(null===(n=this.mi)||void 0===n?void 0:n.ended())&&(null===(r=null===(o=this.mi)||void 0===o?void 0:o.playlist)||void 0===r||r.currentItem(i))}}async addMediaItems(t,i){for(let e=0;e<t.length;e++){const s=t[e],n=i[e];await this.addMediaItem(s,n,!1)}}async refreshMediaItems(t,i){var e,s;const n=null===(e=this.mi)||void 0===e?void 0:e.playlist(),o=null===(s=this.mi)||void 0===s?void 0:s.playlist;if(o&&n&&n.length&&t&&t.length)for(let e=0;e<t.length;e++){const s=t[e],r=i[e],a=n[r],l=s.bcpvid||"";a&&(o.currentIndex()!==r||this.mi.paused())&&a.mediaid===s.mediaid&&(l&&this.Mi[l]&&(this.Mi[l].state=c.SourceState.NO_DATA),await this.removeMediaItem(s,r),await this.addMediaItem(s,r,!1))}}async removeMediaItem(t,i){const e=this.mi.playlist;if(!e||!t)return;if(!this.Ki(t.mediaid,i))return;const s=new Promise((t=>{this.mi.one("playlistremove",(()=>{t()}))}));await Promise.allSettled([s,new Promise((t=>{e.remove(i),t()}))])}async setPlaylistPosition(t,i){const e=this.mi,s=null==e?void 0:e.playlist;if(!s||!t||!e)return-1;if((null==s?void 0:s.currentIndex())===i)return i;this.Ki(t.mediaid,i)||await this.addMediaItem(t,i,!1),null==e||e.pause(),null==s||s.autoadvance(null);const n=new Promise((t=>{e.one("playlistitem",(()=>{t()}))}));return await Promise.allSettled([n,new Promise((t=>{null==s||s.currentItem(i),t()}))]),i}play(t,i){var e,s;this.Si=null!==(e=null==i?void 0:i.reason)&&void 0!==e?e:"",null===(s=this.mi)||void 0===s||s.play()}pause(t){var i,e;this.Si=null!==(i=null==t?void 0:t.reason)&&void 0!==i?i:"",null===(e=this.mi)||void 0===e||e.pause()}stop(){var t,i;null===(t=this.mi)||void 0===t||t.pause(),null===(i=this.mi)||void 0===i||i.currentTime(0)}playAtIndex(t){var i,e;null===(e=null===(i=this.mi)||void 0===i?void 0:i.playlist)||void 0===e||e.currentItem(t)}seek(t){var i;null===(i=this.mi)||void 0===i||i.currentTime(t)}toggleControls(t){var i;null===(i=this.mi)||void 0===i||i.controls(t)}toggleCC(t,i){throw new Error("toggleCC not available")}setMute(t){var i;null===(i=this.mi)||void 0===i||i.muted(t)}getMute(){var t,i;return null!==(i=null===(t=this.mi)||void 0===t?void 0:t.muted())&&void 0!==i?i:this._i}setVolume(t){var i;null===(i=this.mi)||void 0===i||i.volume(t)}getVolume(){var t,i;return null!==(i=null===(t=this.mi)||void 0===t?void 0:t.volume())&&void 0!==i?i:this.qt}setPlaybackRate(t){var i;null===(i=this.mi)||void 0===i||i.playbackRate(t)}getPlaybackRate(){var t,i;return null!==(i=null===(t=this.mi)||void 0===t?void 0:t.playbackRate())&&void 0!==i?i:1}preload(t){var i;null===(i=this.mi)||void 0===i||i.preload(t)}setFullScreen(t){var i,e;t?null===(i=this.mi)||void 0===i||i.requestFullscreen():null===(e=this.mi)||void 0===e||e.exitFullscreen()}getFullScreen(){var t,i;return null!==(i=null===(t=this.mi)||void 0===t?void 0:t.isFullscreen())&&void 0!==i&&i}setChromeless(t){const i=this.mi;if(!i)return;i.controls(!t);const e=i.title;t?null==e||e.hide():null==e||e.show()}setContinuousPlay(t){var i,e,s,n;this.Ai=t,t?null===(e=null===(i=this.mi)||void 0===i?void 0:i.playlist)||void 0===e||e.autoadvance(0):null===(n=null===(s=this.mi)||void 0===s?void 0:s.playlist)||void 0===n||n.autoadvance(null)}setLoop(t){this.mi&&this.mi.loop(t)}getCurrentTime(){var t,i;return null!==(i=null===(t=this.mi)||void 0===t?void 0:t.currentTime())&&void 0!==i?i:NaN}showPlayerInfo(){var t;null===(t=this.mi)||void 0===t||t.playerInfo.modal.open()}setLimitRenditionByPlayerDimensions(t){var i,e,s;(null===(s=null===(e=null===(i=this.mi)||void 0===i?void 0:i.tech)||void 0===e?void 0:e.call(i,!0))||void 0===s?void 0:s.vhs)&&(_.debug("[setLimitRenditionByPlayerDimensions]","limitRenditionByPlayerDimensions=",t),this.mi.tech(!0).vhs.limitRenditionByPlayerDimensions=t)}renderOpss(){var t,i,e;const s=null===(e=null===(i=null===(t=this.mi)||void 0===t?void 0:t.tech(!0))||void 0===i?void 0:i.vhs)||void 0===e?void 0:e.stats;!this.ji&&s&&(this.ji=new g.default(s),this.qi())}Gi(t){const i=["captions","subtitles"],e=t.textTracks(),s=[];for(let t=0;t<e.length;t++){const n=e[t];i.includes(n.kind)&&s.push(n)}const n=(t,i,e)=>t.kind===i&&t.language===e,o=(t,i,e,s)=>t.kind===i&&t.id===e&&t.language===s,r=s.some((t=>n(t,"subtitles","en"))),a=s.some((t=>n(t,"subtitles","es"))),l=s.some((t=>o(t,"captions","CC1","en"))),d=s.some((t=>o(t,"captions","CC2","es")));l&&r&&s.filter((t=>n(t,"subtitles","en"))).forEach((i=>t.removeRemoteTextTrack(i))),d&&a&&s.filter((t=>n(t,"subtitles","es"))).forEach((i=>t.removeRemoteTextTrack(i))),s.filter((t=>"captions"===t.kind&&"SERVICE1"===t.id)).forEach((i=>t.removeRemoteTextTrack(i)))}setError(t){this.mi.error({message:t.message,type:t.type,headline:t.headline,evError:!0})}xi(t){const i=document.createElement("video-js");return i.setAttribute("id","bc-player"),i.setAttribute("data-account",this.gi),i.setAttribute("data-player",this.yi),i.setAttribute("data-embed","default"),p.GlobalSettings.debug&&i.setAttribute("data-debug",""),i.setAttribute("controls",""),i.setAttribute("playsinline",""),t.applicationId&&i.setAttribute("data-application-id",t.applicationId),i.style.width="100%",t.audioMode!==o.AudioMode.AUDIO_ONLY?i.style.height="100%":i.style.height="45px",t.muted&&i.setAttribute("muted",""),t.loop&&i.setAttribute("loop",""),i}async Ji(t,i){return new Promise(((e,s)=>{if(!this.mi||!this.mi.catalog)return s("Error: no bcPlayer or its catalog method");this.mi.catalog.getVideo({type:"video",id:t,bcovAuthToken:i},((t,i)=>{if(t)return s(t);e(i)}))}))}async getBCPItem(t,i){this.Mi[t]=this.Mi[t]||new v.default(t);const e=this.Mi[t];switch(e.state){case c.SourceState.FETCHING:if(await e.waitForFetching(),this.Mi[t].state===c.SourceState.ERROR)throw e.error;return e.metadata;case c.SourceState.HAS_DATA:return e.metadata;case c.SourceState.NO_DATA:try{return e.state=c.SourceState.FETCHING,e.metadata=await this.Ji(t,i),e.state=c.SourceState.HAS_DATA,e.metadata}catch(t){throw e.error=t,e.state=c.SourceState.ERROR,t}case c.SourceState.ERROR:throw e.error}}zi(t){t.ready((async()=>{var i,e,s,n,r;const l=a.Utils.getWindow(),d=l.videojs,u=this.Vi.playlist[0],h=null===(i=null==d?void 0:d.options)||void 0===i?void 0:i.vhs;if(h&&(this.Vi.initialBandwidth&&(h.bandwidth=this.Vi.initialBandwidth),!1===this.Vi.limitRenditionByPlayerDimensions&&(h.limitRenditionByPlayerDimensions=this.Vi.limitRenditionByPlayerDimensions),this.Vi.storageAllowed)){let t=!0;try{l.localStorage}catch(i){t=!1}t&&(h.useBandwidthFromLocalStorage=!0)}null==d||d.addLanguage(this.Vi.locale,{Auto:this.Vi.i18nStrings.AUTO});const c=await this.Yi(u);if(this.Vi.audioMode===o.AudioMode.AUDIO_ONLY?t.audioOnlyMode(!0):this.Vi.audioMode===o.AudioMode.AUDIO_POSTER&&t.audioPosterMode(!0),this.Vi.audioMode&&(null===(e=document.querySelector(".vjs-big-play-button"))||void 0===e||e.classList.add("vjs-hidden")),t.playlist([c]),this.Vi.showPlaybackRateControls?t.playbackRates(E):t.playbackRates([]),this.Vi.chromeless&&this.setChromeless(!0),t.disablePictureInPicture(!0),this.Qi=null===(s=this.Li)||void 0===s?void 0:s.querySelector("div.vjs-subs-caps-button"),null===(n=this.Qi)||void 0===n||n.addEventListener("click",(t=>{this.Wi(t.target)}),{capture:!0}),null===(r=this.Qi)||void 0===r||r.addEventListener("touchend",(t=>{this.Wi(t.target)}),{capture:!0}),p.GlobalSettings.debug){const i=t.tech(!0),e=t.qualityLevels();e.on("change",(()=>{_.debug("[quality change]","cur buf length=",(null==i?void 0:i.buffered().length)>0?null==i?void 0:i.buffered().end(0):"0"),_.debug("[quality change]","new level:",e[e.selectedIndex])}))}this.publish(o.PlayerEvent.READY,{})}))}$i(t){var i,e;t.controlBar.playToggle.on(["click","tap"],(()=>{const i={srcElement:""};t.paused()?i.srcElement=o.UiInteractElement.PAUSE_BTN:i.srcElement=o.UiInteractElement.PLAY_BTN,this.publish(o.PlayerEvent.UI_INTERACTION,i)})),null===(e=null===(i=t.controlBar)||void 0===i?void 0:i.getChild("nextButton"))||void 0===e||e.on("click",(()=>{this.publish(o.PlayerEvent.UI_INTERACTION,{srcElement:o.UiInteractElement.SKIP_NEXT})})),t.posterImage.on(["click","tap"],(()=>{this.publish(o.PlayerEvent.UI_INTERACTION,{srcElement:o.UiInteractElement.START_SCREEN})})),t.bigPlayButton.on(["click","tap"],(()=>{this.publish(o.PlayerEvent.UI_INTERACTION,{srcElement:o.UiInteractElement.START_SCREEN})})),t.tech(!0).on(["click","tap"],(()=>{this.publish(o.PlayerEvent.UI_INTERACTION,{srcElement:o.UiInteractElement.VIDEO})}))}Bi(t){t.on("ima3-ready",(()=>{var i;const e=window.google.ima;_.debug("ima3-ready » IMA SDK version:",e.VERSION),this.Oi=e.VERSION;const s=new e.AdsRenderingSettings;s.enablePreloading=!0,s.loadVideoTimeout=1e3*this.Vi.adStartTimeout,t.ima3.setAdsRenderingSettings(s),this.Di.EVP_ADSDKVER=null!==(i=this.Oi)&&void 0!==i?i:u.adPluginVersion})),t.on("ima3-click",(()=>{t.pause()})),t.on("loadedmetadata",(i=>{var e,s,n,r,a,l;this.Gi(t),this.Ni.onLoadedMetadata(null===(a=null===(r=null===(n=null===(s=null===(e=null==t?void 0:t.tech)||void 0===e?void 0:e.call(t,!0))||void 0===s?void 0:s.el)||void 0===n?void 0:n.call(s))||void 0===r?void 0:r.getStartDate)||void 0===a?void 0:a.call(r),this.mi.id3CuePointsTrack());const d={duration:null===(l=t.mediainfo)||void 0===l?void 0:l.duration};this.publish(o.PlayerEvent.LOADED_METADATA,d)})),t.on("beforeplaylistitem",((t,i)=>{const e=(null==i?void 0:i.bcpdctoken)||null;_.debug("beforeplaylistitem","setBcovAuthToken=",e),this.mi.bcAnalytics.setBcovAuthToken(e)})),t.on("duringplaylistchange",(t=>{})),t.on("playlistchange",(t=>{})),t.on("playlistitem",(t=>{this.Zi(t)})),t.on("playlistsorted",(t=>{})),t.on("playing",(i=>{var e,s,n,r,a,l,d,u,h,c,v,f,m;if(this._i=t.muted(),this.Ei){p.GlobalSettings.debug&&_.debug("[on playing]","start playback bitrate=",null===(a=null===(r=null===(n=null===(s=null===(e=t.tech(!0))||void 0===e?void 0:e.vhs)||void 0===s?void 0:s.playlists)||void 0===n?void 0:n.media())||void 0===r?void 0:r.attributes)||void 0===a?void 0:a.BANDWIDTH),this.bi||this.Zi(i);const u={loadTime:Date.now()-this.Ii,mute:this._i,reason:this.Si};this.Ei=!1,this.Ri=0,this.ki=!1,(null===(d=null===(l=t.ads)||void 0===l?void 0:l.inAdBreak)||void 0===d?void 0:d.call(l))||(this.ee(),this.publish(o.PlayerEvent.START,u))}const y={type:"play",reason:this.Si||o.PlayPauseReason.CTRL,mute:this._i};this.Ci=!1,this.publish(o.PlayerEvent.PLAY,y),this.Si="",this.Ni.onPlaying(null===(f=null===(v=null===(c=null===(h=null===(u=null==t?void 0:t.tech)||void 0===u?void 0:u.call(t))||void 0===h?void 0:h.el)||void 0===c?void 0:c.call(h))||void 0===v?void 0:v.getStartDate)||void 0===f?void 0:f.call(v)),null===(m=this.ji)||void 0===m||m.onPlaying()})),t.on("play",(()=>{var i,e,s,n;this.Ei&&(this.se=null===(i=this.Li)||void 0===i?void 0:i.querySelector(".vjs-subs-caps-button .vjs-menu-content"),this.ee(),this.Ii=this.Ii>0?this.Ii:Date.now()),this.Pi=!1,null===(s=null===(e=null==t?void 0:t.controlBar)||void 0===e?void 0:e.fullscreenToggle)||void 0===s||s.show(),null===(n=this.ji)||void 0===n||n.onPlay()})),t.on("canplaythrough",(()=>{this.setContinuousPlay(this.Ai)})),t.on("pause",(()=>{var i;if(t.seeking())return;this._i=t.muted();const e={type:"pause",reason:this.Si||o.PlayPauseReason.CTRL,mute:this._i};this.publish(o.PlayerEvent.PAUSE,e),this.Si="",this.Ci&&t.play(),null===(i=this.ji)||void 0===i||i.onPause()})),t.on("seeking",(()=>{if(this.Pi&&t.loop())return;this._i=t.muted();const i={position:this.Ri,offset:t.currentTime(),duration:t.duration(),mute:this._i};this.publish(o.PlayerEvent.SEEK,i)})),t.on("seeked",(t=>{})),t.on("volumechange",(i=>{this.ne(t.volume()),this.oe(t)})),t.on("stalled",(t=>{})),t.on("suspend",(t=>{})),["ima3-started","ima3-first-quartile","ima3-midpoint","ima3-third-quartile"].forEach((i=>{t.on(i,(e=>{let{duration:s,position:n}=this.re(t);const{mute:r,buffered:a}=this.re(t);this._i=r;const l={event:i,position:n,duration:s,buffered:a,mute:r};if("ima3-started"===i){const i=setInterval((()=>{s=this.re(t).duration,n=this.re(t).position,!t.paused()&&n>=2&&Math.floor(n)!==Math.floor(s)&&(l.position=n,l.duration=s,this.publish(o.PlayerEvent.AD_TIME,l),clearInterval(i))}),500)}else this.publish(o.PlayerEvent.AD_TIME,l)}))})),t.on("timeupdate",(i=>{var e,s,n,r,a;if(t.seeking())return;const l=t.duration();this._i=t.muted();const d={position:t.currentTime(),duration:l,buffered:t.bufferedEnd()/l>=.95,mute:this._i};(null===(s=null===(e=t.ads)||void 0===e?void 0:e.isInAdMode)||void 0===s?void 0:s.call(e))||(this.publish(o.PlayerEvent.TIME,d),null===(n=this.ji)||void 0===n||n.onTimeUpdate());const u=t.loop(),h=d.duration-d.position;this.Ri=d.position,u&&h<.3&&!(null===(a=null===(r=t.ads)||void 0===r?void 0:r.isInAdMode)||void 0===a?void 0:a.call(r))&&this.ae(d),d.buffered&&!this.ki&&(this.publish(o.PlayerEvent.CONTENT_LOAD_FINISHED),this.ki=!0),this.Ni.onTimeupdate(t.currentTime())})),t.on("waiting",(t=>{this.publish(o.PlayerEvent.BUFFER,t)})),t.on("fullscreenchange",(i=>{this.publish(o.PlayerEvent.FULLSCREEN,{fullscreen:t.isFullscreen()})})),t.on("textdata",(t=>{})),t.on("texttrackchange",(i=>{this.Ni.onTextTrackChange(t.textTracks())})),t.on("abort",(t=>{})),t.on("error",(()=>{const i=t.error();if(!(null==i?void 0:i.evError)){const t={code:(null==i?void 0:i.code)||"",message:(null==i?void 0:i.message)||"",type:400,sourceError:i};this.publish(o.PlayerEvent.ERROR,t)}})),t.on("ended",(t=>{this.ae(t),this.le.cleanup()})),t.on("ads-request",(t=>{this.publish(o.PlayerEvent.AD_REQUEST,t)})),t.on("ads-pause",(()=>{this._i=t.muted();const i={ad:r.BCPlayerUtil.getCurrentAdInfo(t),type:"pause",reason:this.Si||o.PlayPauseReason.CTRL,mute:this._i};this.publish(o.PlayerEvent.AD_PAUSE,i),this.Si=""})),t.on("ads-play",(()=>{var i,e;this._i=t.muted();const s={ad:r.BCPlayerUtil.getCurrentAdInfo(t),type:"play",reason:this.Si||o.PlayPauseReason.CTRL,mute:this._i};this.publish(o.PlayerEvent.AD_RESUME,s),this.Si="",n.userAgent.mobile&&(null===(e=null===(i=null==t?void 0:t.controlBar)||void 0===i?void 0:i.fullscreenToggle)||void 0===e||e.hide())})),t.on("ads-pod-started",(t=>{this.publish(o.PlayerEvent.AD_BREAK_STARTED,t)})),t.on("ads-pod-ended",(t=>{this.publish(o.PlayerEvent.AD_BREAK_ENDED,t)})),t.on("ads-allpods-completed",(t=>{this.publish(o.PlayerEvent.AD_BREAK_ENDED,t)})),t.on("ads-ad-started",(()=>{var i,e;this.ee(),this.publish(o.PlayerEvent.AD_DELIVERED,{...r.BCPlayerUtil.getCurrentAdInfo(t),loadTime:Date.now()-this.Ii}),n.userAgent.mobile&&(null===(e=null===(i=null==t?void 0:t.controlBar)||void 0===i?void 0:i.fullscreenToggle)||void 0===e||e.hide())})),t.on("ads-ad-skipped",(()=>{this.publish(o.PlayerEvent.AD_SKIPPED,r.BCPlayerUtil.getCurrentAdInfo(t))})),t.on("ads-ad-ended",(()=>{this.publish(o.PlayerEvent.AD_COMPLETE,r.BCPlayerUtil.getCurrentAdInfo(t))})),t.on("ads-volumechange",(()=>{this.ne(t.volume()),this.oe(t)})),t.on("ima3-ad-progress",(()=>{this._i=t.muted(),this.publish(o.PlayerEvent.AD_TIME,{buffered:t.duration()-t.bufferedEnd()==0,mute:this._i,...r.BCPlayerUtil.getCurrentAdInfo(t)})})),t.on("adtimeout",(i=>{var e,s,n,a;const l=(null===(n=null===(s=null===(e=null==i?void 0:i.originalEvent)||void 0===e?void 0:e.getError)||void 0===s?void 0:s.call(e))||void 0===n?void 0:n.data)||i,d=this.ue();d.adTagUrl=null===(a=null==t?void 0:t.mediainfo)||void 0===a?void 0:a.adTagUrl,this.publish(o.PlayerEvent.AD_ERROR,{...r.BCPlayerUtil.getCurrentAdInfo(t,d),...l,errorCode:102})})),t.on("ima3-ad-error",(i=>{var e,s,n,a;const l=(null===(n=null===(s=null===(e=null==i?void 0:i.originalEvent)||void 0===e?void 0:e.getError)||void 0===s?void 0:s.call(e))||void 0===n?void 0:n.data)||i,d=this.ue();d.adTagUrl=null===(a=null==t?void 0:t.mediainfo)||void 0===a?void 0:a.adTagUrl,!(null==d?void 0:d.adTagUrl)&&(null==l?void 0:l.errorMessage)&&(l.errorMessage+=" - no adTagUrl"),_.debug("ima3-ad-error: adErrorData »",l,"currentAdInfo »",d),this.publish(o.PlayerEvent.AD_ERROR,{...r.BCPlayerUtil.getCurrentAdInfo(t,d),...l})})),t.on("ima3-log",(i=>{var e,s,n,a;this.publish(o.PlayerEvent.AD_ERROR,{...r.BCPlayerUtil.getCurrentAdInfo(t,this.ue()),...(null===(a=null===(n=null===(s=null===(e=null==i?void 0:i.originalEvent)||void 0===e?void 0:e.getAdData)||void 0===s?void 0:s.call(e))||void 0===n?void 0:n.adError)||void 0===a?void 0:a.data)||i})})),t.on("ima3-loaded",(i=>{var e,s,n;const r={...(null===(s=null===(e=null==i?void 0:i.originalEvent)||void 0===e?void 0:e.getAdData)||void 0===s?void 0:s.call(e))||i,adTagUrl:null===(n=null==t?void 0:t.mediainfo)||void 0===n?void 0:n.adTagUrl};_.debug("ima3-loaded: currentAdInfo »",r),this.ce(r),this.publish(o.PlayerEvent.IMA3_LOADED,{...r,tag:r.adTagUrl||"",adblocker:this.Ti})})),R.forEach((i=>{t.on(i,(i=>{var e;_.debug(`AD_EVENT: ${(null==i?void 0:i.type)||"uknown-type"}`,i),this.publish(o.PlayerEvent.AD_EVENT,{type:(null==i?void 0:i.type)||"",tag:(null===(e=null==t?void 0:t.mediainfo)||void 0===e?void 0:e.adTagUrl)||"",adblocker:this.Ti,...r.BCPlayerUtil.getCurrentAdInfo(t,this.ue())})}))})),t.on("adserror",(i=>{var e,s,n,a,l;this.publish(o.PlayerEvent.AD_ERROR_EVENT,{tag:(null===(e=null==t?void 0:t.mediainfo)||void 0===e?void 0:e.adTagUrl)||"",adblocker:this.Ti,...r.BCPlayerUtil.getCurrentAdInfo(t,this.ue()),...(null===(l=null===(a=null===(n=null===(s=null==i?void 0:i.originalEvent)||void 0===s?void 0:s.getAdData)||void 0===n?void 0:n.call(s))||void 0===a?void 0:a.adError)||void 0===l?void 0:l.data)||i})}))}re(t){var i,e,s,n;const o=t.muted(),r=(null===(e=null===(i=t.ads)||void 0===i?void 0:i.ad)||void 0===e?void 0:e.duration)||t.duration();return{mute:o,duration:r,position:(null===(n=null===(s=t.ads)||void 0===s?void 0:s.ad)||void 0===n?void 0:n.currentTime)||t.currentTime(),buffered:t.bufferedEnd()/r>=.95}}Hi(){this.Ni.on(o.PlayerEvent.TIMED_METADATA_RECEIVED,(t=>{const i={...t,position:this.mi.currentTime()};this.publish(o.PlayerEvent.TIMED_METADATA_RECEIVED,i)}),this)}qi(){var t;null===(t=this.ji)||void 0===t||t.on(o.PlayerEvent.PLAYBACK_INFO,(t=>{this.publish(o.PlayerEvent.PLAYBACK_INFO,t)}),this)}Ki(t,i){var e;return(null===(e=this.mi.playlist()[i])||void 0===e?void 0:e.mediaid)===t}ae(t){this.Ei||(this.Ei=!0,this.bi=!1,this.publish(o.PlayerEvent.COMPLETE,t),this.mi.loop()&&(this.Pi=!0,this.Zi(t)))}Zi(t){var i,e,s;const n=this.mi,a=n.playlist.currentIndex(),l=n.playlist()[a];this._i=n.muted(),this.Ii=0;const d={mute:this._i,item:r.BCPlayerUtil.toMediaItemEventData(l),index:a};this.Ti&&(this.Ci=!0),this.Ei=!0,this.bi=!0,this.ve(l),this.pe(l),this.wi||this.publish(o.PlayerEvent.PLAYLIST_POSITION_CHANGED,d),this.wi=!1,this.Ni.onPlaylistPositionChange();const u=null===(e=null===(i=null==n?void 0:n.tech(!0))||void 0===i?void 0:i.vhs)||void 0===e?void 0:e.stats;u&&(null===(s=this.ji)||void 0===s||s.onPlaylistItem(u))}ee(){this.se&&this.Qi&&(this.se.querySelector(".vjs-menu-item.vjs-subtitles-menu-item.vjs-selected")||this.se.querySelector(".vjs-menu-item.vjs-captions-menu-item.vjs-selected")?this.Qi.classList.add(S.CC_ON_STYLE):this.Qi.classList.remove(S.CC_ON_STYLE))}Wi(t){var i,e;if(t instanceof Element){const s=t.closest(".vjs-subs-caps-button .vjs-menu-item");s&&(s.classList.contains(S.CC_SUBTITLES)||s.classList.contains(S.CC_CAPTIONS)?null===(i=this.Qi)||void 0===i||i.classList.add(S.CC_ON_STYLE):s.classList.contains(S.CC_SETTINGS)||null===(e=this.Qi)||void 0===e||e.classList.remove(S.CC_ON_STYLE))}}ve(t){this.le=new d.default(this.mi,this.Vi,t),this.le.render()}ne(t){this.qt!==t&&(this.publish(o.PlayerEvent.VOLUME,{volume:t}),this.qt=t)}async Yi(t){var i,e;const s=t.bcpvid,n=t.bcptoken;let r=t;t.error&&(r.sources=[I]);const d=null===(e=null===(i=r.sources)||void 0===i?void 0:i[0])||void 0===e?void 0:e.src;if(s&&!d)try{const i=await this.getBCPItem(s,n),e={name:t.name,description:t.description,poster:t.poster};if(r=a.Utils.extend(t,i,e),r.sources&&r.sources.length)this.publish(o.PlayerEvent.BRIGHTCOVE_FETCH_COMPLETE,{id:r.mediaid,fetchTime:Date.now(),sources:r.sources});else{const t={type:l.E_BRIGHTCOVE,code:parseInt(l.BRIGHTCOVE_CODES.E_NO_STREAMS),message:"No playable streams present"};this.publish(o.PlayerEvent.BRIGHTCOVE_FETCH_ERROR,{id:r.mediaid,error:t}),r.error=t,r.sources=[I]}}catch(t){const i={type:l.E_BRIGHTCOVE,code:parseInt(l.BRIGHTCOVE_CODES.E_CATALOG_API_ERROR),message:"Failed to fetch item"};this.publish(o.PlayerEvent.BRIGHTCOVE_FETCH_ERROR,{id:r.mediaid,error:i}),r.error=i,r.sources=[I]}return r}oe(t){const i=t.muted();if(this._i!==i){const e={mute:i,volume:t.volume(),position:t.currentTime(),duration:t.duration()};this.publish(o.PlayerEvent.MUTE,e),this._i=i}}pe(t){this.fe=new h.default(t,this.mi.el()),this.fe.render()}ce(t){this.me=t}ue(){return this.me||{}}async Xi(t){var e;if(_.debug("_getRawTag()","url:",t),!t)return i.AD_URL_UNDEFINED_FALLBACK_XML;if(!t.startsWith("https://tb.video.yahoo.com")||this.Vi.tbRequestViaIMA)return t;const s=await(null===(e=this.P)||void 0===e?void 0:e.postAndWaitResponse({type:f.BridgeMessageType.LOAD_VAST_XML,payload:{url:t}}));return _.debug("render","vastXml=",s),/^https?/.test(s)?s:`data:text/xml;base64,${btoa(s)}`}Fi(t){document.documentElement.lang=t}Ui(t){const i=this.Li;i&&("boolean"==typeof t.title&&!1===t.title&&i.classList.add("evp-hide-title-on-start-screen","evp-hide-title-on-hover"),"object"==typeof t.title&&(!1===t.title.onStartScreen&&i.classList.add("evp-hide-title-on-start-screen"),!1===t.title.onHover&&i.classList.add("evp-hide-title-on-hover")),"boolean"==typeof t.description&&!1===t.description&&i.classList.add("evp-hide-desc-on-start-screen","evp-hide-desc-on-hover"),"object"==typeof t.description&&(!1===t.description.onStartScreen&&i.classList.add("evp-hide-desc-on-start-screen"),!1===t.description.onHover&&i.classList.add("evp-hide-desc-on-hover")))}}i.PFrameBCPlayer=P},2370:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PframeMain=void 0;const s=e(4757),n=e(32),o=e(2469),r=e(3106),a=e(6725),l=e(7625);i.PframeMain=class{constructor(t){this.ye=t.id,this.ge=t.parentUrl,t.debug&&l.GlobalSettings.set({debug:t.debug}),this.P=new n.IframeBridge(window.parent,this.ge,this.ye),this._e=new o.PFrameBCPlayer(this.P),this._e.on("*",((t,i)=>{const e={event:t,data:i};this.P.post({type:n.BridgeMessageType.PLAYER_EVENT,payload:e})}),this),this._e.on(s.PlayerEvent.READY,(()=>{this.be.createOpss()}),this),this._e.on(s.PlayerEvent.PLAYBACK_INFO,(t=>{this.be.onPlaybackInfo(t)}),this),this._e.on(s.PlayerEvent.TIME,(()=>{this.be.onTimeUpdate()}),this),this._e.on(s.PlayerEvent.PLAYLIST_POSITION_CHANGED,(()=>{this.be.onPlaylistItem()}),this),this.P.on(n.BridgeEvent.MESSAGE,this.k,this),this.be=new r.default,this.be.on(s.PlayerEvent.OPSS_REQUEST,(()=>{const t={event:s.PlayerEvent.OPSS_REQUEST,data:{}};this.P.post({type:n.BridgeMessageType.PLAYER_EVENT,payload:t})}),this),this.we=new a.default}async k(t,i){switch(t.type){case n.BridgeMessageType.RENDER_PLAYER:this.Ee(t.payload);break;case n.BridgeMessageType.RENDER_OPSS:this.Ie(t.payload);break;case n.BridgeMessageType.PLAY:this.Re(t.payload);break;case n.BridgeMessageType.PAUSE:this.Se(t.payload);break;case n.BridgeMessageType.STOP:this.Pe(t.payload);break;case n.BridgeMessageType.PLAY_AT_INDEX:this.Ce(t.payload);break;case n.BridgeMessageType.SEEK:this.Te(t.payload);break;case n.BridgeMessageType.TOGGLE_CONTROLS:this.Oe(t.payload);break;case n.BridgeMessageType.TOGGLE_CC:this.ke(t.payload);break;case n.BridgeMessageType.SET_VOLUME:this.Ae(t.payload);break;case n.BridgeMessageType.GET_VOLUME:i&&i(this.Me());break;case n.BridgeMessageType.SET_MUTE:this.Ne(t.payload);break;case n.BridgeMessageType.GET_MUTE:i&&i(this.De());break;case n.BridgeMessageType.PRELOAD:this.je(t.payload);break;case n.BridgeMessageType.SET_PLAYBACK_RATE:this.Le(t.payload);break;case n.BridgeMessageType.GET_PLAYBACK_RATE:i&&i(this.Ve());break;case n.BridgeMessageType.ADD_ITEM:await this.xe(t.payload),i&&i();break;case n.BridgeMessageType.ADD_ITEMS:await this.Fe(t.payload),i&&i();break;case n.BridgeMessageType.REFRESH_ITEMS:await this.Ue(t.payload),i&&i();break;case n.BridgeMessageType.REMOVE_ITEM:await this.Be(t.payload),i&&i();break;case n.BridgeMessageType.SET_PLAYLIST_POS:{const e=await this.He(t.payload);i&&i(e);break}case n.BridgeMessageType.SET_FULLSCREEN:this.$e(t.payload);break;case n.BridgeMessageType.GET_FULLSCREEN:i&&i(this.Xe());break;case n.BridgeMessageType.SET_CHROMELESS:this.ze(t.payload);break;case n.BridgeMessageType.SET_CONTINUOUSPLAY:this.Ke(t.payload);break;case n.BridgeMessageType.SET_LOOP:this.Ye(t.payload);break;case n.BridgeMessageType.GET_CURRENT_TIME:i&&i(this.qe());break;case n.BridgeMessageType.SET_ERROR:this.Ge(t.payload);break;case n.BridgeMessageType.SHOW_PLAYER_INFO:this.Je();break;case n.BridgeMessageType.LOAD_CUSTOM_CSS:await this.A(t.payload),i&&i();break;case n.BridgeMessageType.LOAD_PAL_SDK:{const t=await this.Qe();i&&i(t);break}case n.BridgeMessageType.GET_PAL_NONCE:{const e=await this.We(t.payload);i&&i(e);break}case n.BridgeMessageType.SET_LIMIT_RENDITION_BY_PLAYER_DIMENSIONS:this.Ze(t.payload)}}Ee(t){const i=t.config;this._e.render(i)}Ie(t){this.be.renderOpss(t.info),this._e.renderOpss()}Re(t){this._e.play(t.position,t.config)}Se(t){this._e.pause(t.config)}Pe(t){this._e.stop()}Ce(t){this._e.playAtIndex(t.index)}Te(t){this._e.seek(t.secs)}Oe(t){this._e.toggleControls(t.enable)}ke(t){this._e.toggleCC(t.enable,t.language)}Ne(t){this._e.setMute(t.enable)}De(){return this._e.getMute()}Ae(t){this._e.setVolume(t.vol)}Me(){return this._e.getVolume()}Le(t){this._e.setPlaybackRate(t.playbackRate)}Ve(){return this._e.getPlaybackRate()}je(t){this._e.preload(t.enable)}async xe(t){const i=t.mediaItemConfig;await this._e.addMediaItem(i,t.position,t.playOnEnd)}async Fe(t){const{mediaItemConfigs:i,positions:e}=t;await this._e.addMediaItems(i,e)}async Ue(t){const{mediaItemConfigs:i,positions:e}=t;await this._e.refreshMediaItems(i,e)}async Be(t){await this._e.removeMediaItem(t.mediaItemConfig,t.position)}async He(t){return await this._e.setPlaylistPosition(t.mediaItemConfig,t.position)}$e(t){this._e.setFullScreen(t.enable)}Xe(){return this._e.getFullScreen()}ze(t){this._e.setChromeless(t.enable)}Ke(t){this._e.setContinuousPlay(t.enable)}Ye(t){this._e.setLoop(t.enable)}qe(){return this._e.getCurrentTime()}Ge(t){this._e.setError(t.error)}Je(){this._e.showPlayerInfo()}async A(t){const i=null==t?void 0:t.customCss;i&&await this.be.loadCustomCss(i)}async Qe(){return await this.we.loadPalSDK()}async We(t){return await this.we.generateNonce(null==t?void 0:t.requestData)}Ze(t){this._e.setLimitRenditionByPlayerDimensions(t.limitRenditionByPlayerDimensions)}}},6725:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PAL_SDK_URL=void 0;const s=e(3726),n=e(7023);i.PAL_SDK_URL="https://imasdk.googleapis.com/pal/sdkloader/pal.js";class o extends s.default{constructor(){super("PFramePal")}async loadPalSDK(){let t=!1;try{await Promise.all([n.Utils.loadScript(i.PAL_SDK_URL)]),t=!0}catch(i){t=!1}return t}async generateNonce(t){let i="";try{const e=new goog.pal.ConsentSettings;e.allowStorage=t.allowStorage;const s=new goog.pal.NonceLoader(e),n=new goog.pal.NonceRequest;n.adWillAutoPlay=t.autoplay,n.adWillPlayMuted=t.mute,n.continuousPlayback=t.continuousPlay,n.descriptionUrl=t.descriptionUrl,n.iconsSupported=t.iconsSupported,n.playerType=t.playerType,n.playerVersion=t.playerVersion,n.ppid=t.ppid,n.sessionId=t.sessionId,n.supportedAPIFrameworks=t.supportedAPIFrameworks,n.url=t.url,n.videoHeight=t.videoHeight,n.videoWidth=t.videoWidth;i=(await s.loadNonceManager(n)).getNonce()}catch(t){i=""}return i}}i.default=o},3106:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(3726),n=e(1964),o=e(4757),r=e(7982),a=e(8373),l=e(5241);class d extends s.default{constructor(){super(),this.ts=null,this.ss=null,this.ns=null,this.ds=null,this.us=null,this.hs=new r.CustomCssLoader,this.vs=document.querySelector("#pframe-overlay"),this.ps(),this.fs(),this.ys()}onPlaylistItem(){var t;if(this.ds)for(const i in this.ds)null===(t=this.ds[i])||void 0===t||t.destroy();this.fs(),this.ys()}renderOpss(t){if(this.vs&&!this.ss){this.ss=this.gs(l,t);const i=this.ss.querySelector(".evp-opss-close-btn");null==i||i.addEventListener("click",this._s.bind(this),{once:!0}),this.vs.appendChild(this.ss),this.vs.style.display="block",this.us=this.ss.querySelector(".evp-opss-graphs")}}onPlaybackInfo(t){var i,e,s,n,o,r,a,l;const d=Date.now()/1e3;null===(e=null===(i=this.ds)||void 0===i?void 0:i.bitrate)||void 0===e||e.push(t.currentStreamBitrate,d),null===(n=null===(s=this.ds)||void 0===s?void 0:s.speed)||void 0===n||n.push(t.currentKbps,d),null===(r=null===(o=this.ds)||void 0===o?void 0:o.bufferLength)||void 0===r||r.push(t.bufferLength,d),null===(l=null===(a=this.ds)||void 0===a?void 0:a.frameRate)||void 0===l||l.push(t.frameRate?t.frameRate:0,d),this.ys(),this.us&&(this.us.style.display="block")}onTimeUpdate(){this.ys()}async loadCustomCss(t){await this.hs.load(t)}fs(){this.ds={bitrate:new a.default("Bit Rate History"),speed:new a.default("Download Speed History"),bufferLength:new a.default("Buffer Length History"),frameRate:new a.default("Frame Rate History")}}ys(){if(this.us){this.us.innerHTML="";for(const t in this.ds)this.ds[t].render(this.us)}}gs(t,i){const e=document.createElement("div");return e.innerHTML=t.render(i),e.children[0]}createOpss(){this.ts=document.querySelector("#pframe-root"),this.ts&&!this.ns&&(this.ns=new n.default("NORMAL",(()=>{this.publish(o.PlayerEvent.OPSS_REQUEST)}),this.ts))}_s(){this.vs&&this.ss&&(this.vs.removeChild(this.ss),this.vs.style.display="none",this.ss=null)}ps(){document.addEventListener("keydown",this.bs.bind(this),!1)}bs(t){27===t.keyCode&&this._s()}}i.default=d},5286:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(3726),n=e(4757);class o extends s.default{constructor(t){super("PlaybackMetrics"),this.ws=null,this.Es=null,this.Is=null,this.Rs(),this.Ss=t}onPlaylistItem(t){this.Rs(),this.Es&&clearInterval(this.Es),this.Es=null,this.Ss=t}onPlay(){this.Es||(this.Es=setInterval(this.Ps.bind(this),1e3))}onTimeUpdate(){this.Ps()}onPlaying(){this.Ps()}onPause(){this.Es&&(clearInterval(this.Es),this.Es=null)}Rs(){this.ws={prevTotalFrames:0,prevTotalDroppedFrames:0,prevFrameRateMeasuredTime:0,frameRateSampleCollector:[],currentFrameRate:0},this.Is={samples:[],prevTotalTime:0,prevTotalBytes:0,currentKbps:0}}Ps(){if(!this.Ss)return;const t={bufferLength:this.Cs().toFixed(2),frameRate:this.Ts().toFixed(2),currentStreamBitrate:(this.Ss.bandwidth/1e3).toFixed(2),currentKbps:this.Os().toFixed(2)};this.publish(n.PlayerEvent.PLAYBACK_INFO,t)}Cs(){if(!this.Ss)return 0;let t,i=0;const e=this.Ss.currentTime;try{const s=this.Ss.buffered;for(let i=0;s&&i<s.length;i++)if(e+.065>=s[i].start&&e<s[i].end){t=i;break}t>=0&&s&&s.length&&(i=s[t].end-e)}catch(t){}return i}Ts(){var t;const i=null===(t=this.Ss)||void 0===t?void 0:t.videoPlaybackQuality;if(!this.Ss||!i)return 0;let e=0;const s=this.ws;if(!s)return 0;const n=this.Ss.currentTime-s.prevFrameRateMeasuredTime,o=i.totalVideoFrames,r=i.droppedVideoFrames;return e=s.prevFrameRateMeasuredTime>0&&0!==n?(o-s.prevTotalFrames-(r-s.prevTotalDroppedFrames))/n:s.currentFrameRate,isNaN(e)||s.frameRateSampleCollector.push(e),this.ks(),s.prevTotalFrames=o,s.prevTotalDroppedFrames=r,s.prevFrameRateMeasuredTime=this.Ss.currentTime,s.currentFrameRate}ks(){if(!this.ws)return;const t=this.ws.frameRateSampleCollector;if(t.length>=4){const i=t.reduce(((t,i)=>t+i));this.ws.currentFrameRate=i/t.length,t.splice(0,t.length)}}Os(){if(!this.Ss)return 0;const t=this.Ss.mediaBytesTransferred,i=this.Ss.mediaTransferDuration;let e=0;const s=this.Is;if(!s)return 0;const n=i-s.prevTotalTime;return e=s.prevTotalTime>0&&0!==n?(t-s.prevTotalBytes)/n:s.currentKbps,isNaN(e)||s.samples.push(e),this.As(),s.prevTotalBytes=t,s.prevTotalTime=i,s.currentKbps}As(){if(!this.Is)return;const t=this.Is.samples;if(t.length>=4){const i=t.reduce(((t,i)=>t+i));this.Is.currentKbps=i/t.length,t.splice(0,t.length)}}}i.default=o},7982:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CustomCssLoader=void 0;const s=e(7023);i.CustomCssLoader=class{async load(t){if(!Array.isArray(t))return;if(0===t.length)return;const{cssFiles:i,styles:e}=this.Ms(t);await Promise.allSettled([this.Ns(i),this.Ds(e)])}Ms(t){const i=[],e=t.filter((t=>"string"==typeof t&&(!t.startsWith("https://")||(i.push(t),!1))));return{cssFiles:i,styles:e}}async Ns(t){if(t.length>0)try{await Promise.allSettled(t.map((t=>s.Utils.loadCSS(t))))}catch(t){}}async Ds(t){if(t.length>0)try{await Promise.allSettled(t.map((t=>s.Utils.loadStyle(t))))}catch(t){}}}},8373:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=class{constructor(t){this.Ls=t,this.Vs=[],this.xs=[]}destroy(){this.Vs=[],this.xs=[]}push(t,i){this.Vs.push(parseFloat(t)),this.xs.push(i)}render(t){if(!t)return;if(this.Vs.some((t=>isNaN(t))))return;const i=document.createElement("div");i.innerText=this.Ls,i.style.marginBottom="5px";const e=document.createElement("div");e.classList.add("evp-opss-graph"),e.appendChild(i),e.style.float="left",e.style.width="150px";const s=document.createElement("canvas");s.width=150,s.height=60,e.appendChild(s),t.appendChild(e),this.Fs(s,150,60)}Fs(t,i,e){const s=t.getContext("2d");if(!s)return;const n=this.Vs.length-1;let o=0;const r=this.xs[n];let a=this.Vs[n],l=a;for(let t=n-1;t>=0;t--)if(a=Math.min(a,this.Vs[t]),l=Math.max(l,this.Vs[t]),t>0&&r-this.xs[t-1]>45){o=t;break}const d=this.xs[o];a>0&&(a=0),a===l&&(l=a+1),s.save(),s.translate(65,e),s.scale((i-65)/45,-1*e/(l-a)),s.beginPath(),s.moveTo(0,this.Vs[o]-a);for(let t=o+1;t<this.Vs.length;t++)s.lineTo(this.xs[t]-d,this.Vs[t]-a);s.restore(),s.lineWidth=1,s.lineCap="round",s.lineJoin="round",s.strokeStyle="white",s.stroke(),s.font="8pt Monospace",s.fillStyle="white",s.fillText(l.toFixed(1),0,10),s.fillText(null==a?void 0:a.toFixed(1),0,60)}}},3856:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_OVERLAYS=void 0;const s=e(1700),n=e(7023),o=e(4080),r=e(4645),a=e(1307),l=e(8733),d=o.Log.getLogging("overlaysview");i.DEFAULT_OVERLAYS=[{id:"adTimer",template:r,align:s.IBCOverlayAlignment.TOP_LEFT},{id:"viewCount",template:a,align:s.IBCOverlayAlignment.TOP_LEFT},{id:"liveLabel",template:l,align:s.IBCOverlayAlignment.TOP_LEFT}];i.default=class{constructor(t,i,e){this._e=null,this.Us=null,this.Bs=!1,this.Hs=[],this._e=t,this.Us=i,this.Ht=e.overlays||[],this.$s=e,this.Xs(i.i18nStrings)}render(){var t,i,e,s;if(this._e.overlay({overlays:this.Ht}),this.Bs){const t=document.querySelector(".video-js .vjs-title-bar");null==t||t.setAttribute("style","padding-left: 10%")}this.zs=null===(t=document.querySelector(".evp-ad-timer-container"))||void 0===t?void 0:t.parentElement,null===(i=this.zs)||void 0===i||i.classList.add("evp-overlay-hide"),this.Ks=document.querySelector(".timer-target"),this.Ys=document.querySelector(".evp-live-label-container"),this.qs=null===(e=this.Ys)||void 0===e?void 0:e.parentElement,null===(s=this.qs)||void 0===s||s.classList.add("evp-overlay-hide"),this.Gs()}cleanup(){try{this.Hs.length>0&&this.Hs.forEach((t=>{for(const i in t)this._e.off(i,t[i])}))}catch(t){}}Xs(t){var e;null===(e=this.Ht)||void 0===e||e.forEach((t=>{t.align||(t.align=s.IBCOverlayAlignment.TOP_RIGHT),t.showBackground||(t.showBackground=!1)})),i.DEFAULT_OVERLAYS.forEach((i=>{var e;let s;if("viewCount"===i.id){if(!this.$s.viewCount||!this.Us.viewCount)return void d.debug("initialize","skipping viewCount label as content has no views or disabled.");this.Bs=!0,s="viewCount"===i.id?{count:n.Utils.compactNumberFormat(this.Us.locale,this.$s.viewCount)}:null}"liveLabel"!==i.id||this.Us.liveLabel?null===(e=this.Ht)||void 0===e||e.push({content:i.template.render({...s,strings:t}),start:"loadedmetadata",align:i.align,showBackground:!1}):d.debug("_initialize","will hide liveLabel as it is disabled in player config.")}))}Js(){var t,i;null===(t=this.zs)||void 0===t||t.classList.add("evp-overlay-hide"),null===(i=this.zs)||void 0===i||i.classList.remove("evp-overlay-show"),this.Ks&&(this.Ks.textContent="")}Qs(){var t,i,e;null===(t=this.zs)||void 0===t||t.classList.add("vjs-overlay"),null===(i=this.zs)||void 0===i||i.classList.remove("evp-overlay-hide"),null===(e=this.zs)||void 0===e||e.classList.add("evp-overlay-show")}Ws(){const t=n.Utils.secondsToTime(Math.floor(this._e.duration()-this._e.currentTime()));this.Ks&&(this.Ks.textContent=`${t.m}:${t.s}`)}Zs(){var t,i,e;!0===this.$s.live&&"live"===this.$s.liveState&&(null===(t=this.qs)||void 0===t||t.classList.add("vjs-overlay"),null===(i=this.qs)||void 0===i||i.classList.remove("evp-overlay-hide"),null===(e=this.qs)||void 0===e||e.classList.add("evp-overlay-show"))}tn(){var t,i;null===(t=this.qs)||void 0===t||t.classList.remove("evp-overlay-show"),null===(i=this.qs)||void 0===i||i.classList.add("evp-overlay-hide")}Gs(){const t=this.Qs.bind(this),i=this.Ws.bind(this),e=this.Js.bind(this),s=this.Zs.bind(this),n=this.tn.bind(this);this._e.on("ima3-started",t),this._e.on("ima3-ad-progress",i),this._e.on("ads-ad-skipped",e),this._e.on("ima3-complete",e),this._e.on("ima3-all-ads-completed",e),this._e.on("adtimeout",e),this._e.on("ima3-ad-error",e),this._e.on("ima3-skipped",e),this._e.on("playing",s),this._e.on("ended",n),this._e.on("useractive",(()=>{var t;null===(t=this.Ys)||void 0===t||t.classList.add("evp-user-active")})),this._e.on("userinactive",(()=>{var t;null===(t=this.Ys)||void 0===t||t.classList.remove("evp-user-active")})),this.Hs=[{"ima3-started":t,"ima3-ad-progress":i,"ads-ad-skipped":e,"ima3-complete":e,adtimeout:e,"ima3-ad-error":e,"ima3-skipped":e,"ima3-all-ads-completed":e,playing:s,ended:n}]}}},8638:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BCPlayerUtil=void 0;const s=e(5953),n=e(76),o=e(7023);class r{static getConfig(t,i){var e,s,n,o,a,l,d,u,h;const c=r.getItemConfig(t,i),v={audioMode:i.audioMode,autoplay:i.autoplay,continuousPlay:i.continuousPlay,muted:i.mute,playlist:[c],loop:i.loop,applicationId:i.applicationId,ads:null===(s=null===(e=i.featureFlag)||void 0===e?void 0:e.enableAd)||void 0===s||s,adStartTimeout:i.adStartTimeout,adLoadTimeout:i.adLoadTimeout,adWrapperLimit:i.adWrapperLimit,tbRequestViaIMA:null!==(o=null===(n=i.featureFlag)||void 0===n?void 0:n.tbRequestViaIMA)&&void 0!==o&&o,viewCount:i.uiConfig.viewCount||!1,bcpDevAccount:(null===(a=i.featureFlag)||void 0===a?void 0:a.bcpDevAccount)||!1,initialBandwidth:null!==(l=i.initialBandwidth)&&void 0!==l?l:null,i18nStrings:i.i18nStrings,locale:this.sn(i.locale),title:null===(d=i.uiConfig.title)||void 0===d||d,description:null===(u=i.uiConfig.description)||void 0===u||u,liveLabel:null===(h=i.uiConfig.liveLabel)||void 0===h||h,playlistOptions:{nextButton:i.showNextButton,autoadvance:i.continuousPlay?0:null,nextEndscreen:!1,nextOverlay:!1,playOnSelect:!0,repeat:!1,shuffle:!1,playlistPicker:!1,horizontal:!1},limitRenditionByPlayerDimensions:!0,storageAllowed:i.privacy.isStorageAllowed()};return v.limitRenditionByPlayerDimensions=r.getLimitRenditionByPlayerDimensions(i),i.uiConfig.playbackRate&&(v.showPlaybackRateControls=!0),i.uiConfig.chromeless&&(v.chromeless=!0),v}static getItemConfig(t,i){var e,s,n,r,a,l,d,u;const h=null===(e=t.streamList)||void 0===e?void 0:e[0],c=null!==(s=null==h?void 0:h.url)&&void 0!==s?s:"",v=null===(n=t.bcp)||void 0===n?void 0:n.v_id,p=null===(r=t.bcp)||void 0===r?void 0:r.token,f=null===(a=t.bcp)||void 0===a?void 0:a.dc_token,m={mediaid:t.id,poster:t.thumbnail,name:o.Utils.sanitizeAndUnescape(t.title),description:o.Utils.sanitizeAndUnescape(t.description),error:t.error,bcpvid:v,bcptoken:p,liveState:t.liveState,bcpdctoken:f,uplynkLive:t.uplynkLive};if(t.viewCount&&(m.viewCount=t.viewCount),v&&!(null===(l=i.featureFlag)||void 0===l?void 0:l.useSapiBrightcoveStream)||(m.sources=[{src:c,type:this.nn(h)}]),m.live=t.live,null===(u=null===(d=i.featureFlag)||void 0===d?void 0:d.enableAd)||void 0===u||u){const i=t.adUrl;i&&(m.adTagUrl=i)}return t.overlays&&(m.overlays=t.overlays),t.providerId&&(m.providerId=t.providerId),m}static getLimitRenditionByPlayerDimensions(t){let i=!0;if("object"==typeof t.limitRenditionByPlayerDimensions&&t.limitRenditionByPlayerDimensions.limitBelow){const e=t.playerState.uiState.width,s=t.playerState.uiState.height,n=e>s?e:s;i=t.limitRenditionByPlayerDimensions.limitBelow>n}else"boolean"==typeof t.limitRenditionByPlayerDimensions&&(i=t.limitRenditionByPlayerDimensions);return i}static getCurrentAdInfo(t,i={}){var e,s,n,o,r,a,l,d,u,h,c,v,p,f,m,y,g,_,b,w,E,I;return{duration:(null==i?void 0:i.duration)||(null===(s=null===(e=t.ima3)||void 0===e?void 0:e.currentAd)||void 0===s?void 0:s.getDuration()),creativeType:(null==i?void 0:i.contentType)||(null===(o=null===(n=t.ima3)||void 0===n?void 0:n.currentAd)||void 0===o?void 0:o.getContentType()),adSystem:(null==i?void 0:i.adSystem)||(null===(a=null===(r=t.ima3)||void 0===r?void 0:r.currentAd)||void 0===a?void 0:a.getAdSystem()),creativeAdId:(null==i?void 0:i.creativeAdId)||(null===(d=null===(l=t.ima3)||void 0===l?void 0:l.currentAd)||void 0===d?void 0:d.getCreativeAdId()),creativeId:(null==i?void 0:i.creativeId)||(null===(h=null===(u=t.ima3)||void 0===u?void 0:u.currentAd)||void 0===h?void 0:h.getCreativeId()),adPosition:this.rn(null==i?void 0:i.adPodInfo)||(null===(v=null===(c=t.ima3)||void 0===c?void 0:c.currentAdEventInfo)||void 0===v?void 0:v.adType),position:(null===(f=null===(p=t.ads)||void 0===p?void 0:p.ad)||void 0===f?void 0:f.currentTime)||t.currentTime(),adId:(null==i?void 0:i.adId)||(null===(y=null===(m=t.ima3)||void 0===m?void 0:m.currentAd)||void 0===y?void 0:y.getAdId()),apiFramework:(null==i?void 0:i.apiFramework)||(null===(_=null===(g=t.ima3)||void 0===g?void 0:g.currentAd)||void 0===_?void 0:_.getApiFramework()),creativeUrl:(null==i?void 0:i.adTagUrl)||(null===(w=null===(b=t.ima3)||void 0===b?void 0:b.currentAd)||void 0===w?void 0:w.getMediaUrl()),skipTimeOffset:null===(I=null===(E=t.ima3)||void 0===E?void 0:E.currentAd)||void 0===I?void 0:I.getSkipTimeOffset()}}static toMediaItemEventData(t){var i;if(!t)return;const e={mediaId:t.mediaid,title:t.name,description:t.description,poster:t.poster,sources:[],adTagUrl:t.adTagUrl};return t.viewCount&&(e.viewCount=t.viewCount),null===(i=t.sources)||void 0===i||i.forEach((t=>{e.sources.push({src:t.src,type:t.type})})),e}static rn(t){if(!t)return!1;const i=null==t?void 0:t.timeOffset;return 0===i?"preroll":-1===i?"postroll":"midroll"}static nn(t){var i,e,s;if(!t||!t.url&&!t.mimetype)return;let o=t.mimetype;if(!o){const r=(null===(s=null===(e=null===(i=t.url)||void 0===i?void 0:i.match(/(?:\.webm|\.m3u8|\.mpd|\.mp4)/))||void 0===e?void 0:e[0])||void 0===s?void 0:s.substring(1))||"";o=n.BCSourceMimetype[r]}return o}static sn(t){return s.LOCALE_MAP_FOR_BCPLAYER[t]||"en"}}i.BCPlayerUtil=r},32:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IframeBridge=i.BridgeEvent=i.BridgeMessageType=void 0;const s=e(3726),n=e(5437),o=e(7023);var r,a;!function(t){t.EVENT="event",t.PLAYER_EVENT="pevent",t.RENDER_PLAYER="rplayer",t.RENDER_OPSS="ropss",t.PLAY="play",t.PAUSE="pause",t.STOP="stop",t.PLAY_AT_INDEX="playAtIndex",t.SEEK="seek",t.ADD_ITEM="addItem",t.ADD_ITEMS="addItems",t.REFRESH_ITEMS="refreshItems",t.REMOVE_ITEM="removeItem",t.SET_PLAYLIST_POS="setPlaylistPos",t.TOGGLE_CONTROLS="toggleControls",t.TOGGLE_CC="toggleCC",t.SET_VOLUME="setVolume",t.GET_VOLUME="getVolume",t.SET_MUTE="setMute",t.GET_MUTE="getMute",t.SET_PLAYBACK_RATE="playbackRate",t.GET_PLAYBACK_RATE="getPlaybackRate",t.PRELOAD="preload",t.SET_FULLSCREEN="setFullscreen",t.GET_FULLSCREEN="getFullscreen",t.SET_CHROMELESS="setChromeless",t.SET_CONTINUOUSPLAY="setContinuousPlay",t.SET_LOOP="setLoop",t.GET_CURRENT_TIME="getCurrentTime",t.SET_ERROR="setError",t.SHOW_PLAYER_INFO="showPlayerInfo",t.LOAD_CUSTOM_CSS="loadCustomCss",t.LOAD_PAL_SDK="loadPalSdk",t.GET_PAL_NONCE="generatePalNonce",t.ASYNC_RESPONSE="asyncResponse",t.LOAD_VAST_XML="loadVastXml",t.SET_LIMIT_RENDITION_BY_PLAYER_DIMENSIONS="setLimitRenditionByPlayerDimensions"}(r||(i.BridgeMessageType=r={})),function(t){t.MESSAGE="message"}(a||(i.BridgeEvent=a={}));const l=Object.values(r);class d extends s.default{constructor(t,i,e){super("IframeBridge"),this.an={},this.ln={},this.dn=t,this.un=i,this.ye=e;const s=o.Utils.getWindow();this.hn=this.cn.bind(this),s.addEventListener("message",this.hn,!1)}post(t){const i={...t,bridgeId:this.ye};this.dn.postMessage(JSON.stringify(i),this.un)}async postAndWaitResponse(t){const i=o.Utils.generateGuid(),e={...t,bridgeId:this.ye,messageId:i};this.dn.postMessage(JSON.stringify(e),this.un);try{return await new Promise(((t,e)=>{this.an[i]=e=>{delete this.an[i],t(e)}}))}catch(t){throw t}}cn(t){if(t.origin!==this.un)return;let i;try{i=JSON.parse(t.data)}catch(t){return}if(n.TypeChecker.isObject(i)&&n.TypeChecker.isString(i.bridgeId)&&n.TypeChecker.isString(i.type)&&i.bridgeId===this.ye&&-1!==l.indexOf(i.type))if(i.type!==r.ASYNC_RESPONSE){if(i.messageId){const t=i.messageId;return this.ln[t]||(this.ln[t]=i=>{delete this.ln[t],this.post({type:r.ASYNC_RESPONSE,payload:i,messageId:t})}),void this.publish(a.MESSAGE,i,this.ln[t])}this.publish(a.MESSAGE,i)}else if(i.messageId){const t=i.messageId;this.an[t]&&this.an[t](i.payload)}}}i.IframeBridge=d},4080:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Log=void 0;const s=e(7625);i.Log=class{static getLogging(t){return{debug:(...t)=>{s.GlobalSettings.debug}}}}},7049:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PlayerUtil=void 0;const s=e(8638);i.PlayerUtil=class{static getConfig(t,i){return s.BCPlayerUtil.getConfig(t,i)}static getItemConfig(t,i){return s.BCPlayerUtil.getItemConfig(t,i)}}},7023:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.DEV_ASSETS_HOSTNAME=i.DEV_ASSETS_PORT=void 0;const s=e(5437),n=e(8729),o=e(5953),r=e(4080),a="1.4.5",l=`https://s.yimg.com/rx/ev/builds/${a}`;i.DEV_ASSETS_PORT="undefined",i.DEV_ASSETS_HOSTNAME="playerdev.s.yimg.com";const d=["yahoo.com","yahoo.co.jp","yahoo.net","yahoo.fr","yimg.com","cdn.launch3d.com","rivals.com","maktoob.com","thepostgame.com","nfl.com","nfljapan.com","wt.video.corp.yahoo.com","yahooinc.com","aol.com","aol.co.uk","aol.ca","aol.jp","aol.de","oath.com","ouroath.com","cashay.com","autoblog.com","intheknow.com","engadget.com","techcrunch.com"];let u=[];["cdn.ampproject.org","amp.cloudflare.com","bing-amp.com"].forEach((t=>{d.forEach((i=>{const e=i.replace(/-/g,"--").replace(/\./g,"-");u.push(e+"."+t)}))})),u=u.concat(d);const h=r.Log.getLogging("Utils");class c{static deepCopy(t){if(s.TypeChecker.isNullOrUndefined(t))return t;const i={};return Object.keys(t).forEach((e=>{s.TypeChecker.isArray(t[e])?i[e]=t[e].slice():s.TypeChecker.isObject(t[e])?i[e]=this.deepCopy(t[e]):i[e]=t[e]})),i}static mergeObjects(t,i,e=!1){if(s.TypeChecker.isNullOrUndefined(t))return i;for(const n in i)if(s.TypeChecker.isObject(t[n]))t[n]=this.mergeObjects(t[n],i[n],e);else if(void 0===t[n]||e){const e=i[n];s.TypeChecker.isArray(e)?t[n]=e.slice():s.TypeChecker.isObject(e)?t[n]=c.deepCopy(e):t[n]=e}return t}static generateGuid(t){return t?(0|16*Math.random()).toString(16):"10000000-1000-4000-8000-100000000000".replace(/1|0/g,c.generateGuid)}static isLocal(){return false}static isDebugMode(){return!1}static getBuildVersion(){return a}static getPlayerType(){switch(c.getDeviceType()){case"smartphone":case"tablet":return"ev-mobile";default:return"ev-desktop"}}static getAdPreloadState(){return!n.userAgent.ios&&!n.userAgent.tv}static getSingleton(t){return window.OATH&&window.OATH.VideoPlatform&&window.OATH.VideoPlatform[t]?window.OATH.VideoPlatform[t]:null}static getBckt(){const t=c.getSingleton("PlayerHosting"),i="Treatment_Oath_Player";if(t){const{bucket:e,env:s}=t;return e||("prod"===s?i:null)||"none"}return i}static getUrlSearchParams(t){const i=new URLSearchParams(t);return i.forEach(((t,i,e)=>{"undefined"!==t&&"null"!==t||e.set(i,"")})),i}static getAssetUrl(t){if(c.isLocal()){return`${c.getWindow().location.protocol}//${i.DEV_ASSETS_HOSTNAME}:${i.DEV_ASSETS_PORT}/${t}`}return c.isDebugMode()&&"pframe.html"===t&&(t="pframe.debug.html"),`${l}/${t}`}static async loadMainCSS(){const t="evplayer-css";if(!document.getElementById(t))return new Promise(((i,e)=>{const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("id",t),s.setAttribute("href",c.getAssetUrl("evplayer.css")),s.addEventListener("load",(()=>i())),s.addEventListener("error",(()=>e())),document.head.appendChild(s)}))}static async loadCSS(t){return new Promise(((i,e)=>{const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",t),s.addEventListener("load",(()=>i())),s.addEventListener("error",(()=>{e(new Error(`CSS loading failed - ${t}`))})),document.head.appendChild(s)}))}static async loadStyle(t){return new Promise(((i,e)=>{const s=document.createElement("style");s.textContent=t,s.addEventListener("load",(()=>i())),s.addEventListener("error",(()=>{e(new Error(`CSS loading failed - ${t}`))})),document.head.appendChild(s)}))}static async loadScript(t,i=!1,e="text/javascript"){return new Promise(((s,n)=>{try{const o=document.createElement("script"),r=document.head||document.body;o.type=e,o.async=i,o.src=t,o.addEventListener("load",(()=>{s({status:!0})})),o.addEventListener("error",(()=>{n({status:!1,message:`Failed to load script ${t}`})})),r.appendChild(o)}catch(t){n(t)}}))}static async loadVast(t){let i;try{i=await fetch(t,{credentials:"include"})}catch(e){try{i=await fetch(t)}catch(i){throw new Error(`Failed to load VAST from ${t}`)}}return{vastXml:await i.text(),status:i.status}}static getWindow(){return window}static getHRef(t){var i,e;const s=null===(e=null===(i=null==t?void 0:t.pageParams)||void 0===i?void 0:i._w)||void 0===e?void 0:e.trim(),n=document.location.href||"";return(null==s?void 0:s.length)>0?s:n}static getRef(t){var i,e;const s=null===(e=null===(i=null==t?void 0:t.pageParams)||void 0===i?void 0:i._R)||void 0===e?void 0:e.trim(),n=document.referrer||"";return(null==s?void 0:s.length)>0?s:n}static getHostName(){return c.getWindow().location.hostname}static getCookie(t){const i=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return i?decodeURIComponent(i[1]):void 0}static getLanguageForCode(t){let i="en";const e=t&&t.toLowerCase().split("-")||[];return 1===e.length&&(i=e[0]),e.length>1&&(e.pop(),i=e.join("-")),o.LANGUAGE_MAP[i]}static sanitizeAndUnescape(t){if(!s.TypeChecker.isString(t))return"";return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent||""}static extend(t,...i){return s.TypeChecker.isObject(t)||(t={}),Object.assign(t,...i),t}static secondsToTime(t){let i=Math.floor(t/3600).toString();i=Number(i)<10?"0"+i.toString():i.toString();const e=t%3600;let s=Math.floor(e/60).toString();s=s.toString();const n=e%60;let o=Math.ceil(n).toString();return o=Number(o)<10?"0"+o.toString():o.toString(),{h:i,m:s,s:o}}static getElementViewability(t){try{const i=t.getBoundingClientRect();if(!i||0===i.height||0===i.width)return 0;let e;const s=window.innerHeight;return e=i.top>=0?i.bottom>s?s-i.top>0?s-i.top:0:i.height:i.bottom>s?s:i.bottom<0?0:i.bottom,Math.round(e/i.height*100)}catch(t){return 0}}static compactNumberFormat(t,i){return Intl.NumberFormat(t,{notation:"compact"}).format(i)}static getDeviceType(){const t=navigator.platform.toLowerCase(),i=["mac","win"].some((i=>t.indexOf(i)>-1));let e;return e=n.userAgent.iosVersion&&n.userAgent.iosVersion<13?"ontouchstart"in window:"ontouchstart"in window&&navigator.maxTouchPoints>0,n.userAgent.chromecast?"tv-widget,chromecast":n.userAgent.tv?"tv-widget":!i&&e&&(n.userAgent.ipad||n.userAgent.androidTablet)?"tablet":!i&&e&&n.userAgent.mobile?"smartphone":"desktop"}static getLocaleCode(){const t=document.documentElement.lang||"en-US";return Object.keys(o.LOCALE_MAP_FOR_BCPLAYER).includes(t)?t:Object.keys(o.LANG_SUBTAG_MAP).includes(t)?o.LANG_SUBTAG_MAP[t]:"en-US"}static isOffNetwork(t){t=t||c.getHostUrl();const i=new URL(t).hostname;return!i||!u.some((t=>-1!==i.indexOf(t,i.length-t.length)))}static getHostUrl(){var t;let i=document.referrer;const e=c.getWindow();try{(null===(t=e.top)||void 0===t?void 0:t.location.href)&&(i=e.top.location.href)}catch(t){}return i}static isIframe(){const t=c.getWindow();try{return t.top!==t.self}catch(t){return!0}}static debounce(t,i){let e;return(...s)=>{window.clearTimeout(e),e=window.setTimeout((()=>{t(...s)}),i)}}static resolveMacros(t,i){if(!t||!i)return t;let e=t;for(const t in i){h.debug("»»» resolveMacros - resolving macro:","key =",`[${t}]`,"value =",i[t]);const s=new RegExp(`\\[${t}\\]`,"g");e=e.replace(s,encodeURIComponent(i[t]))}return e}}i.Utils=c},4713:(t,i,e)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(7110),n="video.nflhighlights.com";i.default=class{constructor(t,i){this.vn=t,this.pn=i}render(){var t;(null===(t=this.vn)||void 0===t?void 0:t.providerId)===n?this.fn():(this.mn=this.yn(),this.mn&&this.gn())}fn(){var t;if(this.pn&&!this.yn()){null===(t=this.pn.parentElement)||void 0===t||t.append(this._n());const i=window.getComputedStyle(this.pn),e=100-36/parseInt(i.height)*100;this.pn.style.height=`${e}%`}}yn(){return document.querySelector(".evp-nfl-branding-container")}gn(){var t;this.mn=this.yn(),null===(t=this.mn)||void 0===t||t.remove(),this.pn.style.height="100%"}_n(){const t=document.createElement("template");return t.innerHTML=s.render(),t.content.firstChild}}},1964:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e={NORMAL:[{combination:[79,80,83,83]}]};i.default=class{constructor(t,i,s){this.wn=0,this.En=[],this.In=null,this.Rn=i,this.Sn=t,this.Pn=e[this.Sn],this.ps(),this.Cn=s,this.Tn()}destroy(){this.Cn.removeEventListener("touchstart",this.On,!1),this.Cn.removeEventListener("touchend",this.An,!1)}ps(){this.wn=0,this.Pn.forEach((t=>{t.length=t.combination.length,t.value=t.length?t.combination.toString():null,t.length>this.wn&&(this.wn=t.length)})),this.Mn=this.Nn.bind(this),document.addEventListener("keydown",this.Mn,!1)}Nn(t){this.En.push(t.keyCode),this.En.length>this.wn&&this.En.shift();this.Pn.some((t=>this.En.slice(Math.max(this.En.length-t.length,0)).toString()===t.value))&&this.Rn()}On(t){this.In||2!==t.touches.length||(this.In=window.setTimeout((()=>{this.Rn(),this.In=null}),3e3))}An(){this.In&&(window.clearTimeout(this.In),this.In=null)}Tn(){this.On=this.On.bind(this),this.An=this.An.bind(this),this.Cn.addEventListener("touchstart",this.On,!1),this.Cn.addEventListener("touchend",this.An,!1)}}},9005:(t,i,e)=>{"use strict";var s=e(9840),n=e(7056),o=e(8023),r=e(7510);function a(t,i,e){var s=t;return n(i)?(e=i,"string"==typeof t&&(s={uri:t})):s=r(i,{uri:t}),s.callback=e,s}function l(t,i,e){return d(i=a(t,i,e))}function d(t){if(void 0===t.callback)throw new Error("callback argument missing");var i=!1,e=function(e,s,n){i||(i=!0,t.callback(e,s,n))};function s(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var i=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!i)return t.responseXML}catch(t){}return null}(u),y)try{t=JSON.parse(t)}catch(t){}return t}function n(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,e(t,g)}function r(){if(!d){var i;clearTimeout(h),i=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var n=g,r=null;return 0!==i?(n={body:s(),statusCode:i,method:v,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(n.headers=o(u.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),e(r,n,n.body)}}var a,d,u=t.xhr||null;u||(u=t.cors||t.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var h,c=u.url=t.uri||t.url,v=u.method=t.method||"GET",p=t.body||t.data,f=u.headers=t.headers||{},m=!!t.sync,y=!1,g={body:void 0,headers:{},statusCode:0,method:v,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(y=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(r,0)},u.onload=r,u.onerror=n,u.onprogress=function(){},u.onabort=function(){d=!0},u.ontimeout=n,u.open(v,c,!m,t.username,t.password),m||(u.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(h=setTimeout((function(){if(!d){d=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)}}),t.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(p||null),u}t.exports=l,t.exports.default=l,l.XMLHttpRequest=s.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:s.XDomainRequest,function(t,i){for(var e=0;e<t.length;e++)i(t[e])}(["get","put","post","patch","head","delete"],(function(t){l["delete"===t?"del":t]=function(i,e,s){return(e=a(i,e,s)).method=t.toUpperCase(),d(e)}}))},7510:t=>{t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var s=arguments[e];for(var n in s)i.call(s,n)&&(t[n]=s[n])}return t};var i=Object.prototype.hasOwnProperty},5014:t=>{"use strict";t.exports=JSON.parse('{"adPluginVersion":"5.2.8","playlistUIPluginVersion":"5.1.1","overlayPluginVersion":"3.0.0","playerData":{"PROD":{"accountId":"6415665815001","playerId":"RiVAoaoIb3","bcpVersion":"7.17.2"},"DEV":{"accountId":"6313395549001","playerId":"PQNWJv4cPv","bcpVersion":"7.17.2"}}}')}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var o=i[s]={exports:{}};return t[s].call(o.exports,o,o.exports,e),o.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();(()=>{"use strict";const t=e(2370);try{const i=JSON.parse(decodeURIComponent(window.name));new t.PframeMain(i)}catch(t){}})()})();